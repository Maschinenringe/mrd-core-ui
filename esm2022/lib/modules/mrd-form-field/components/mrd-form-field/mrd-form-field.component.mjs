import { ColorUtil } from './../../../../common/util/color.util';
import { booleanAttribute, ChangeDetectionStrategy, Component, ContentChild, Input } from '@angular/core';
import { MrdInputComponent } from '../mrd-input/mrd-input.component';
import { MrdLabelComponent } from '../mrd-label/mrd-label.component';
import { BaseObject, SubscriptionHandler, Util } from 'mrd-core';
import { MrdErrorComponent } from '../mrd-error/mrd-error.component';
import { MrdSelectComponent } from '../mrd-select/mrd-select.component';
import { ConfigUtil } from '../../../../common/util/config.util';
import { sizeAttribute } from '../../../../common/transforms/size-transform';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
const _c0 = [[["mrd-prefix"]], [["mrd-input"]], [["mrd-select"]], [["mrd-label"]], [["mrd-suffix"]], [["mrd-hint"]], [["mrd-error"]]];
const _c1 = function (a0, a1, a2, a3, a4, a5) { return { "mrd-form-field-error": a0, "mrd-form-field-disabled": a1, "mrd-form-field-focused": a2, "mrd-form-field-content-container-outline": a3, "mrd-form-field-content-container-fill": a4, "mrd-form-field-dark-theme": a5 }; };
const _c2 = ["mrd-prefix", "mrd-input", "mrd-select", "mrd-label", "mrd-suffix", "mrd-hint", "mrd-error"];
export class MrdFormFieldComponent extends BaseObject {
    cdr;
    config = ConfigUtil.getConfig();
    input;
    select;
    label;
    error;
    // @Input() public appearance: 'standard' | 'outline' = 'standard';
    outline = false;
    fill = false;
    dark = false;
    requiredAsterisk = true;
    rounded = false;
    borderRadius;
    centered = false;
    disabled = false;
    focused = false;
    hasError = false;
    focusColor = this.config.formField?.focusColor ?? this.config.baseColors.primary;
    focusColorDark = this.config.formField?.focusColorDark ?? ColorUtil.changeColorBrightnessPercent(this.config.baseColors.primary, 10);
    focusColorOutline = this.config.formField?.focusColorOutline ?? ColorUtil.changeColorOpacity(this.config.baseColors.primary, 40);
    errorColor = this.config.formField?.errorColor ?? this.config.baseColors.warn;
    errorColorDark = this.config.formField?.erroColorDark ?? ColorUtil.changeColorBrightnessPercent(this.config.baseColors.warn, 10);
    errorColorOutline = this.config.formField?.errorColorOutline ?? ColorUtil.changeColorOpacity(this.config.baseColors.warn, 40);
    timeouts = [];
    constructor(cdr) {
        super();
        this.cdr = cdr;
    }
    ngOnDestroy() {
        super.ngOnDestroy();
        this.timeouts.forEach((timeout) => clearTimeout(timeout));
    }
    ngAfterViewInit() {
        this.borderRadius = this.borderRadius ?? this.rounded ? this.config.formField?.borderRadiusRounded : this.config.formField?.borderRadius;
        if (Util.isDefined(this.input)) {
            this.input.centered = this.centered;
            if (Util.isDefined(this.input.formControl)) {
                this.watch(this.input.formControl.valueChanges, new SubscriptionHandler(() => {
                    if (Util.isDefined(this.error)) {
                        this.error.error = Util.isDefined(this.input.formControl.error) ? this.input.formControl.error.error : '';
                    }
                    this.hasError = Util.isDefined(this.input.formControl.error);
                    this.input.formControl.markAsDirty();
                    this.cdr.markForCheck();
                }));
                this.watch(this.input.formControl.control.statusChanges, new SubscriptionHandler(() => {
                    if (this.requiredAsterisk && Util.isDefined(this.label) && this.input.formControl.required) {
                        this.timeouts.push(setTimeout(() => this.label.required.value = true, 1));
                    }
                    else {
                        this.timeouts.push(setTimeout(() => this.label.required.value = false, 1));
                    }
                    this.disabled = this.input.formControl.disabled;
                    this.cdr.markForCheck();
                }));
                if (Util.isDefined(this.error) && this.input.formControl.touched) {
                    this.error.error = Util.isDefined(this.input.formControl.error) ? this.input.formControl.error.error : '';
                    this.hasError = Util.isDefined(this.input.formControl.error);
                }
                if (this.requiredAsterisk && Util.isDefined(this.label) && this.input.formControl.required) {
                    this.timeouts.push(setTimeout(() => this.label.required.value = true, 1));
                }
                this.disabled = this.input.formControl.disabled;
                if (Util.isDefined(this.input.formControl.value)) {
                    this.input.formControl.control.updateValueAndValidity({ emitEvent: false });
                    if (Util.isDefined(this.error)) {
                        this.error.error = Util.isDefined(this.input.formControl.error) ? this.input.formControl.error.error : '';
                    }
                    this.hasError = Util.isDefined(this.input.formControl.error);
                }
                this.cdr.detectChanges();
            }
            if (Util.isDefined(this.label)) {
                if ((Util.isDefined(this.input.formControl) && Util.isDefined(this.input.formControl.value) && this.input.formControl.value !== '') ||
                    (Util.isDefined(this.input.value) && this.input.value !== '')) {
                    this.label.floating.value = true;
                }
            }
            this.input.touched.subscribe(() => {
                if (Util.isDefined(this.input.formControl)) {
                    this.input.formControl.markAsTouched();
                }
                this.cdr.markForCheck();
            });
            this.input.focused.subscribe(() => {
                this.focused = true;
                if (Util.isDefined(this.label)) {
                    this.label.floating.value = true;
                }
                this.cdr.markForCheck();
            });
            this.input.blurred.subscribe(() => {
                this.focused = false;
                if (Util.isDefined(this.label)) {
                    if (Util.isDefined(this.input.formControl)) {
                        if (!Util.isDefined(this.input.formControl.value) || this.input.formControl.value === '') {
                            this.label.floating.value = false;
                        }
                    }
                    else if (!Util.isDefined(this.input.value) || this.input.value === '') {
                        this.label.floating.value = false;
                    }
                }
                if (Util.isDefined(this.input.formControl)) {
                    this.input.formControl.control.updateValueAndValidity({ emitEvent: false });
                    if (Util.isDefined(this.error)) {
                        this.error.error = Util.isDefined(this.input.formControl.error) ? this.input.formControl.error.error : '';
                    }
                    this.hasError = Util.isDefined(this.input.formControl.error);
                }
                this.cdr.markForCheck();
            });
        }
        if (Util.isDefined(this.select)) {
            if (Util.isDefined(this.select.formControl)) {
                this.watch(this.select.formControl.valueChanges, new SubscriptionHandler(() => {
                    if (Util.isDefined(this.error)) {
                        this.error.error = Util.isDefined(this.select.formControl.error) ? this.select.formControl.error.error : '';
                    }
                    this.hasError = Util.isDefined(this.select.formControl.error);
                    if (Util.isDefined(this.label)) {
                        if (Util.isDefined(this.select.formControl.value) && this.select.formControl.value !== '') {
                            this.label.floating.value = true;
                        }
                        else {
                            this.label.floating.value = false;
                        }
                    }
                    this.select.formControl.markAsDirty();
                    this.cdr.markForCheck();
                }));
                this.watch(this.select.formControl.control.statusChanges, new SubscriptionHandler(() => {
                    if (this.requiredAsterisk && Util.isDefined(this.label) && this.select.formControl.required) {
                        this.timeouts.push(setTimeout(() => this.label.required.value = true, 1));
                    }
                    else {
                        this.timeouts.push(setTimeout(() => this.label.required.value = false, 1));
                    }
                    this.disabled = this.select.formControl.disabled;
                    this.cdr.markForCheck();
                }));
                if (Util.isDefined(this.error) && this.select.formControl.touched) {
                    this.error.error = Util.isDefined(this.select.formControl.error) ? this.select.formControl.error.error : '';
                }
                if (this.requiredAsterisk && Util.isDefined(this.label) && this.select.formControl.required) {
                    this.timeouts.push(setTimeout(() => this.label.required.value = true, 1));
                }
                this.disabled = this.select.formControl.disabled;
                if (Util.isDefined(this.select.formControl.value)) {
                    this.select.formControl.control.updateValueAndValidity({ emitEvent: false });
                    if (Util.isDefined(this.error)) {
                        this.error.error = Util.isDefined(this.select.formControl.error) ? this.select.formControl.error.error : '';
                    }
                    this.hasError = Util.isDefined(this.select.formControl.error);
                }
                this.cdr.detectChanges();
            }
            if (Util.isDefined(this.label)) {
                if ((Util.isDefined(this.select.formControl) && Util.isDefined(this.select.formControl.value) && this.select.formControl.value !== '') ||
                    (Util.isDefined(this.select.value) && this.select.value !== '')) {
                    this.label.floating.value = true;
                }
            }
            this.select.touched.subscribe(() => {
                if (this.select.autoComplete && Util.isDefined(this.select.formControl)) {
                    this.select.formControl.markAsTouched();
                }
                this.cdr.markForCheck();
            });
            this.select.focused.subscribe(() => {
                this.focused = true;
                if (this.select.autoComplete && Util.isDefined(this.label)) {
                    this.label.floating.value = true;
                }
                this.cdr.detectChanges();
            });
            this.select.blurred.subscribe(() => {
                this.focused = false;
                if (Util.isDefined(this.label)) {
                    if ((!Util.isDefined(this.select.formControl) || !Util.isDefined(this.select.formControl.value) || this.select.formControl.value === '') &&
                        (!Util.isDefined(this.select.value) || this.select.value === '')) {
                        this.label.floating.value = false;
                    }
                }
                if (Util.isDefined(this.select.formControl)) {
                    this.select.formControl.control.updateValueAndValidity({ emitEvent: false });
                    if (Util.isDefined(this.error)) {
                        this.error.error = Util.isDefined(this.select.formControl.error) ? this.select.formControl.error.error : '';
                    }
                    this.hasError = Util.isDefined(this.select.formControl.error);
                }
                this.cdr.markForCheck();
            });
        }
        this.cdr.markForCheck();
    }
    /** @nocollapse */ static ɵfac = function MrdFormFieldComponent_Factory(t) { return new (t || MrdFormFieldComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef)); };
    /** @nocollapse */ static ɵcmp = /** @pureOrBreakMyCode */ i0.ɵɵdefineComponent({ type: MrdFormFieldComponent, selectors: [["mrd-form-field"]], contentQueries: function MrdFormFieldComponent_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {
            i0.ɵɵcontentQuery(dirIndex, MrdInputComponent, 5);
            i0.ɵɵcontentQuery(dirIndex, MrdSelectComponent, 5);
            i0.ɵɵcontentQuery(dirIndex, MrdLabelComponent, 5);
            i0.ɵɵcontentQuery(dirIndex, MrdErrorComponent, 5);
        } if (rf & 2) {
            let _t;
            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.input = _t.first);
            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.select = _t.first);
            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.label = _t.first);
            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.error = _t.first);
        } }, hostVars: 2, hostBindings: function MrdFormFieldComponent_HostBindings(rf, ctx) { if (rf & 2) {
            i0.ɵɵstyleProp("font-family", ctx.config == null ? null : ctx.config.baseFont.family);
        } }, inputs: { outline: ["outline", "outline", booleanAttribute], fill: ["fill", "fill", booleanAttribute], dark: ["dark", "dark", booleanAttribute], requiredAsterisk: "requiredAsterisk", rounded: ["rounded", "rounded", booleanAttribute], borderRadius: ["borderRadius", "borderRadius", sizeAttribute], centered: ["centered", "centered", booleanAttribute] }, features: [i0.ɵɵInputTransformsFeature, i0.ɵɵInheritDefinitionFeature], ngContentSelectors: _c2, decls: 11, vars: 22, consts: [[1, "mrd-form-field-container"], [1, "mrd-form-field-content-container", 3, "ngClass"], [1, "mrd-form-field-input-content-container"], [1, "mrd-form-field-subcontent-container"]], template: function MrdFormFieldComponent_Template(rf, ctx) { if (rf & 1) {
            i0.ɵɵprojectionDef(_c0);
            i0.ɵɵelementStart(0, "div", 0)(1, "div", 1);
            i0.ɵɵprojection(2);
            i0.ɵɵelementStart(3, "div", 2);
            i0.ɵɵprojection(4, 1);
            i0.ɵɵprojection(5, 2);
            i0.ɵɵprojection(6, 3);
            i0.ɵɵelementEnd();
            i0.ɵɵprojection(7, 4);
            i0.ɵɵelementEnd();
            i0.ɵɵelementStart(8, "div", 3);
            i0.ɵɵprojection(9, 5);
            i0.ɵɵprojection(10, 6);
            i0.ɵɵelementEnd()();
        } if (rf & 2) {
            i0.ɵɵstyleProp("--focus-color", ctx.focusColor)("--error-color", ctx.errorColor)("--focus-color-dark", ctx.focusColorDark)("--error-color-dark", ctx.errorColorDark)("--focus-color-outline", ctx.focusColorOutline)("--error-color-outline", ctx.errorColorOutline)("--ff-border-radius", ctx.borderRadius);
            i0.ɵɵadvance(1);
            i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction6(15, _c1, ctx.hasError, ctx.disabled, ctx.focused, ctx.outline, ctx.fill, ctx.dark));
        } }, dependencies: [i1.NgClass], styles: ["[_nghost-%COMP%]{display:flex;flex-direction:column;width:264px}.mrd-form-field-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;padding-top:1.25em}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;border-bottom:1px solid #afa6a6;padding-bottom:4px}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-content-container-outline[_ngcontent-%COMP%]{border-radius:var(--ff-border-radius);background-color:#fcfdfd;padding:12px;border:1px solid #293d4f}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-content-container-outline.mrd-form-field-dark-theme[_ngcontent-%COMP%]{background-color:#bcbcbc}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-content-container-outline.mrd-form-field-dark-theme[_ngcontent-%COMP%]:not(.mrd-form-field-focused):not(.mrd-form-field-error)  .s-label-content{color:#ebebeb}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-content-container-outline.mrd-form-field-dark-theme.mrd-form-field-focused[_ngcontent-%COMP%]:not(.mrd-form-field-error)  .s-label-content{color:var(--focus-color-dark)}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-content-container-outline.mrd-form-field-dark-theme.mrd-form-field-error[_ngcontent-%COMP%]:not(.mrd-form-field-focused)  .s-label-content{color:var(--error-color-dark)}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-content-container-outline[_ngcontent-%COMP%]     .s-label-content.s-label-floating{top:-2.5em}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-content-container-fill[_ngcontent-%COMP%]{border-radius:var(--ff-border-radius);background-color:#d8dfe8;border-bottom:unset;padding:12px}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-content-container-fill.mrd-form-field-dark-theme[_ngcontent-%COMP%]{background-color:#fff}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-content-container-fill.mrd-form-field-dark-theme.mrd-form-field-focused[_ngcontent-%COMP%]:not(.mrd-form-field-error)  .s-label-content{color:var(--focus-color-dark)}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-content-container-fill.mrd-form-field-dark-theme.mrd-form-field-error[_ngcontent-%COMP%]:not(.mrd-form-field-focused)  .s-label-content{color:var(--error-color-dark)}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-content-container-fill[_ngcontent-%COMP%]:not(.mrd-form-field-focused):not(.mrd-form-field-error)  .s-label-content{color:#293d4f}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-content-container-fill[_ngcontent-%COMP%]     .s-label-content.s-label-floating{top:-2.5em}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-disabled[_ngcontent-%COMP%]{border-bottom-style:dotted}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-focused[_ngcontent-%COMP%]{border-bottom-color:var(--focus-color)}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-focused.mrd-form-field-content-container-outline[_ngcontent-%COMP%]{border-color:var(--focus-color-outline)}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-focused[_ngcontent-%COMP%]     .s-label-content{color:var(--focus-color)}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-focused[_ngcontent-%COMP%]     .s-select-container .s-select-trigger>svg{fill:var(--focus-color)}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-error[_ngcontent-%COMP%]{border-bottom-color:var(--error-color)}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-error.mrd-form-field-content-container-outline[_ngcontent-%COMP%]{border-color:var(--error-color-outline)}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-error[_ngcontent-%COMP%]     .s-label-content{color:var(--error-color)}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-error[_ngcontent-%COMP%]     .s-select-container .s-select-trigger>svg{fill:var(--error-color)}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container[_ngcontent-%COMP%]   .mrd-form-field-input-content-container[_ngcontent-%COMP%]{position:relative;display:flex;flex:1 1 100%;min-width:0px}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-subcontent-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:0 4px;max-height:-moz-fit-content;max-height:fit-content;min-height:1em}"], changeDetection: 0 });
}
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(MrdFormFieldComponent, [{
        type: Component,
        args: [{ selector: 'mrd-form-field', host: {
                    "[style.font-family]": "config?.baseFont.family"
                }, changeDetection: ChangeDetectionStrategy.OnPush, template: "<div class=\"mrd-form-field-container\"\r\n  [style.--focus-color]=\"focusColor\"\r\n  [style.--error-color]=\"errorColor\"\r\n  [style.--focus-color-dark]=\"focusColorDark\"\r\n  [style.--error-color-dark]=\"errorColorDark\"\r\n  [style.--focus-color-outline]=\"focusColorOutline\"\r\n  [style.--error-color-outline]=\"errorColorOutline\"\r\n  [style.--ff-border-radius]=\"borderRadius\"\r\n>\r\n  <div class=\"mrd-form-field-content-container\"\r\n    [ngClass]=\"{'mrd-form-field-error': hasError, 'mrd-form-field-disabled': disabled, 'mrd-form-field-focused': focused,\r\n      'mrd-form-field-content-container-outline': outline, 'mrd-form-field-content-container-fill': fill, 'mrd-form-field-dark-theme': dark}\">\r\n    <ng-content select=\"mrd-prefix\"></ng-content>\r\n    <div class=\"mrd-form-field-input-content-container\">\r\n\r\n      <ng-content select=\"mrd-input\"></ng-content>\r\n      <ng-content select=\"mrd-select\"></ng-content>\r\n      <ng-content select=\"mrd-label\"></ng-content>\r\n\r\n    </div>\r\n    <ng-content select=\"mrd-suffix\"></ng-content>\r\n  </div>\r\n  <div class=\"mrd-form-field-subcontent-container\">\r\n    <ng-content select=\"mrd-hint\"></ng-content>\r\n    <ng-content select=\"mrd-error\"></ng-content>\r\n  </div>\r\n</div>\r\n", styles: [":host{display:flex;flex-direction:column;width:264px}.mrd-form-field-container{display:flex;flex-direction:column;position:relative;padding-top:1.25em}.mrd-form-field-container .mrd-form-field-content-container{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;border-bottom:1px solid #afa6a6;padding-bottom:4px}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-content-container-outline{border-radius:var(--ff-border-radius);background-color:#fcfdfd;padding:12px;border:1px solid #293d4f}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-content-container-outline.mrd-form-field-dark-theme{background-color:#bcbcbc}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-content-container-outline.mrd-form-field-dark-theme:not(.mrd-form-field-focused):not(.mrd-form-field-error)::ng-deep .s-label-content{color:#ebebeb}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-content-container-outline.mrd-form-field-dark-theme.mrd-form-field-focused:not(.mrd-form-field-error)::ng-deep .s-label-content{color:var(--focus-color-dark)}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-content-container-outline.mrd-form-field-dark-theme.mrd-form-field-error:not(.mrd-form-field-focused)::ng-deep .s-label-content{color:var(--error-color-dark)}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-content-container-outline ::ng-deep .s-label-content.s-label-floating{top:-2.5em}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-content-container-fill{border-radius:var(--ff-border-radius);background-color:#d8dfe8;border-bottom:unset;padding:12px}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-content-container-fill.mrd-form-field-dark-theme{background-color:#fff}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-content-container-fill.mrd-form-field-dark-theme.mrd-form-field-focused:not(.mrd-form-field-error)::ng-deep .s-label-content{color:var(--focus-color-dark)}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-content-container-fill.mrd-form-field-dark-theme.mrd-form-field-error:not(.mrd-form-field-focused)::ng-deep .s-label-content{color:var(--error-color-dark)}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-content-container-fill:not(.mrd-form-field-focused):not(.mrd-form-field-error)::ng-deep .s-label-content{color:#293d4f}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-content-container-fill ::ng-deep .s-label-content.s-label-floating{top:-2.5em}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-disabled{border-bottom-style:dotted}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-focused{border-bottom-color:var(--focus-color)}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-focused.mrd-form-field-content-container-outline{border-color:var(--focus-color-outline)}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-focused ::ng-deep .s-label-content{color:var(--focus-color)}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-focused ::ng-deep .s-select-container .s-select-trigger>svg{fill:var(--focus-color)}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-error{border-bottom-color:var(--error-color)}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-error.mrd-form-field-content-container-outline{border-color:var(--error-color-outline)}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-error ::ng-deep .s-label-content{color:var(--error-color)}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-error ::ng-deep .s-select-container .s-select-trigger>svg{fill:var(--error-color)}.mrd-form-field-container .mrd-form-field-content-container .mrd-form-field-input-content-container{position:relative;display:flex;flex:1 1 100%;min-width:0px}.mrd-form-field-container .mrd-form-field-subcontent-container{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:0 4px;max-height:-moz-fit-content;max-height:fit-content;min-height:1em}\n"] }]
    }], function () { return [{ type: i0.ChangeDetectorRef }]; }, { input: [{
            type: ContentChild,
            args: [MrdInputComponent]
        }], select: [{
            type: ContentChild,
            args: [MrdSelectComponent]
        }], label: [{
            type: ContentChild,
            args: [MrdLabelComponent]
        }], error: [{
            type: ContentChild,
            args: [MrdErrorComponent]
        }], outline: [{
            type: Input,
            args: [{ transform: booleanAttribute }]
        }], fill: [{
            type: Input,
            args: [{ transform: booleanAttribute }]
        }], dark: [{
            type: Input,
            args: [{ transform: booleanAttribute }]
        }], requiredAsterisk: [{
            type: Input
        }], rounded: [{
            type: Input,
            args: [{ transform: booleanAttribute }]
        }], borderRadius: [{
            type: Input,
            args: [{ transform: sizeAttribute }]
        }], centered: [{
            type: Input,
            args: [{ transform: booleanAttribute }]
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibXJkLWZvcm0tZmllbGQuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbXJkLWNvcmUtdWkvc3JjL2xpYi9tb2R1bGVzL21yZC1mb3JtLWZpZWxkL2NvbXBvbmVudHMvbXJkLWZvcm0tZmllbGQvbXJkLWZvcm0tZmllbGQuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbXJkLWNvcmUtdWkvc3JjL2xpYi9tb2R1bGVzL21yZC1mb3JtLWZpZWxkL2NvbXBvbmVudHMvbXJkLWZvcm0tZmllbGQvbXJkLWZvcm0tZmllbGQuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHNDQUFzQyxDQUFDO0FBQ2pFLE9BQU8sRUFBaUIsZ0JBQWdCLEVBQUUsdUJBQXVCLEVBQXFCLFNBQVMsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFhLE1BQU0sZUFBZSxDQUFDO0FBQ3ZKLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGtDQUFrQyxDQUFDO0FBQ3JFLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGtDQUFrQyxDQUFDO0FBQ3JFLE9BQU8sRUFBRSxVQUFVLEVBQUUsbUJBQW1CLEVBQUUsSUFBSSxFQUFFLE1BQU0sVUFBVSxDQUFDO0FBQ2pFLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGtDQUFrQyxDQUFDO0FBQ3JFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLG9DQUFvQyxDQUFDO0FBQ3hFLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxxQ0FBcUMsQ0FBQztBQUVqRSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sOENBQThDLENBQUM7Ozs7OztBQVc3RSxNQUFNLE9BQU8scUJBQXNCLFNBQVEsVUFBVTtJQW1DekM7SUFqQ0YsTUFBTSxHQUFtQixVQUFVLENBQUMsU0FB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RCxtQkFHZ0IsdUJBQXVCLENBQUMsTUFBTTtvRUFNZCxLQUFLO2tCQUFyQyxZQUFZO21CQUFDLGlCQUFpQjtZQUNHLE1BQU07a0JBQXZDLFlBQVk7bUJBQUMsa0JBQWtCO1lBQ0MsS0FBSztrQkFBckMsWUFBWTttQkFBQyxpQkFBaUI7WUFDRSxLQUFLO2tCQUFyQyxZQUFZO21CQUFDLGlCQUFpQjtZQUdjLE9BQU87a0JBQW5ELEtBQUs7bUJBQUMsRUFBQyxTQUFTLEVBQUUsZ0JBQWdCLEVBQUM7WUFDUyxJQUFJO2tCQUFoRCxLQUFLO21CQUFDLEVBQUMsU0FBUyxFQUFFLGdCQUFnQixFQUFDO1lBRVMsSUFBSTtrQkFBaEQsS0FBSzttQkFBQyxFQUFDLFNBQVMsRUFBRSxnQkFBZ0IsRUFBQztZQUVwQixnQkFBZ0I7a0JBQS9CLEtBQUs7WUFFdUMsT0FBTztrQkFBbkQsS0FBSzttQkFBQyxFQUFDLFNBQVMsRUFBRSxnQkFBZ0IsRUFBQztZQUNNLFlBQVk7a0JBQXJELEtBQUs7bUJBQUMsRUFBQyxTQUFTLEVBQUUsYUFBYSxFQUFDO1lBQ1ksUUFBUTtrQkFBcEQsS0FBSzttQkFBQyxFQUFDLFNBQVMsRUFBRSxnQkFBZ0IsRUFBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbG9yVXRpbCB9IGZyb20gJy4vLi4vLi4vLi4vLi4vY29tbW9uL3V0aWwvY29sb3IudXRpbCc7XHJcbmltcG9ydCB7IEFmdGVyVmlld0luaXQsIGJvb2xlYW5BdHRyaWJ1dGUsIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDaGFuZ2VEZXRlY3RvclJlZiwgQ29tcG9uZW50LCBDb250ZW50Q2hpbGQsIElucHV0LCBPbkRlc3Ryb3kgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgTXJkSW5wdXRDb21wb25lbnQgfSBmcm9tICcuLi9tcmQtaW5wdXQvbXJkLWlucHV0LmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IE1yZExhYmVsQ29tcG9uZW50IH0gZnJvbSAnLi4vbXJkLWxhYmVsL21yZC1sYWJlbC5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBCYXNlT2JqZWN0LCBTdWJzY3JpcHRpb25IYW5kbGVyLCBVdGlsIH0gZnJvbSAnbXJkLWNvcmUnO1xyXG5pbXBvcnQgeyBNcmRFcnJvckNvbXBvbmVudCB9IGZyb20gJy4uL21yZC1lcnJvci9tcmQtZXJyb3IuY29tcG9uZW50JztcclxuaW1wb3J0IHsgTXJkU2VsZWN0Q29tcG9uZW50IH0gZnJvbSAnLi4vbXJkLXNlbGVjdC9tcmQtc2VsZWN0LmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IENvbmZpZ1V0aWwgfSBmcm9tICcuLi8uLi8uLi8uLi9jb21tb24vdXRpbC9jb25maWcudXRpbCc7XHJcbmltcG9ydCB7IE1yZENvbmZpZ01vZGVsIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29tbW9uL21vZGVsL2NvbmZpZy5tb2RlbCc7XHJcbmltcG9ydCB7IHNpemVBdHRyaWJ1dGUgfSBmcm9tICcuLi8uLi8uLi8uLi9jb21tb24vdHJhbnNmb3Jtcy9zaXplLXRyYW5zZm9ybSc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ21yZC1mb3JtLWZpZWxkJyxcclxuICBob3N0OiB7XHJcbiAgICBcIltzdHlsZS5mb250LWZhbWlseV1cIjogXCJjb25maWc/LmJhc2VGb250LmZhbWlseVwiXHJcbiAgfSxcclxuICB0ZW1wbGF0ZVVybDogJy4vbXJkLWZvcm0tZmllbGQuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL21yZC1mb3JtLWZpZWxkLmNvbXBvbmVudC5zY3NzJ10sXHJcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2hcclxufSlcclxuZXhwb3J0IGNsYXNzIE1yZEZvcm1GaWVsZENvbXBvbmVudCBleHRlbmRzIEJhc2VPYmplY3QgaW1wbGVtZW50cyBBZnRlclZpZXdJbml0LCBPbkRlc3Ryb3kge1xyXG5cclxuICBwcml2YXRlIGNvbmZpZzogTXJkQ29uZmlnTW9kZWwgPSBDb25maWdVdGlsLmdldENvbmZpZygpO1xyXG5cclxuICBAQ29udGVudENoaWxkKE1yZElucHV0Q29tcG9uZW50KSBpbnB1dDogTXJkSW5wdXRDb21wb25lbnQ7XHJcbiAgQENvbnRlbnRDaGlsZChNcmRTZWxlY3RDb21wb25lbnQpIHNlbGVjdDogTXJkU2VsZWN0Q29tcG9uZW50O1xyXG4gIEBDb250ZW50Q2hpbGQoTXJkTGFiZWxDb21wb25lbnQpIGxhYmVsOiBNcmRMYWJlbENvbXBvbmVudDtcclxuICBAQ29udGVudENoaWxkKE1yZEVycm9yQ29tcG9uZW50KSBlcnJvcjogTXJkRXJyb3JDb21wb25lbnQ7XHJcblxyXG4gIC8vIEBJbnB1dCgpIHB1YmxpYyBhcHBlYXJhbmNlOiAnc3RhbmRhcmQnIHwgJ291dGxpbmUnID0gJ3N0YW5kYXJkJztcclxuICBASW5wdXQoe3RyYW5zZm9ybTogYm9vbGVhbkF0dHJpYnV0ZX0pIHB1YmxpYyBvdXRsaW5lOiBib29sZWFuID0gZmFsc2U7XHJcbiAgQElucHV0KHt0cmFuc2Zvcm06IGJvb2xlYW5BdHRyaWJ1dGV9KSBwdWJsaWMgZmlsbDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICBASW5wdXQoe3RyYW5zZm9ybTogYm9vbGVhbkF0dHJpYnV0ZX0pIHB1YmxpYyBkYXJrOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gIEBJbnB1dCgpIHB1YmxpYyByZXF1aXJlZEFzdGVyaXNrOiBib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgQElucHV0KHt0cmFuc2Zvcm06IGJvb2xlYW5BdHRyaWJ1dGV9KSBwdWJsaWMgcm91bmRlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIEBJbnB1dCh7dHJhbnNmb3JtOiBzaXplQXR0cmlidXRlfSkgcHVibGljIGJvcmRlclJhZGl1czogc3RyaW5nO1xyXG4gIEBJbnB1dCh7dHJhbnNmb3JtOiBib29sZWFuQXR0cmlidXRlfSkgcHVibGljIGNlbnRlcmVkOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gIHB1YmxpYyBkaXNhYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIHB1YmxpYyBmb2N1c2VkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgcHVibGljIGhhc0Vycm9yOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gIHB1YmxpYyBmb2N1c0NvbG9yOiBzdHJpbmcgPSB0aGlzLmNvbmZpZy5mb3JtRmllbGQ/LmZvY3VzQ29sb3IgPz8gdGhpcy5jb25maWcuYmFzZUNvbG9ycy5wcmltYXJ5IGFzIHN0cmluZztcclxuICBwdWJsaWMgZm9jdXNDb2xvckRhcms6IHN0cmluZyA9IHRoaXMuY29uZmlnLmZvcm1GaWVsZD8uZm9jdXNDb2xvckRhcmsgPz8gQ29sb3JVdGlsLmNoYW5nZUNvbG9yQnJpZ2h0bmVzc1BlcmNlbnQodGhpcy5jb25maWcuYmFzZUNvbG9ycy5wcmltYXJ5IGFzIHN0cmluZywgMTApO1xyXG4gIHB1YmxpYyBmb2N1c0NvbG9yT3V0bGluZTogc3RyaW5nID0gdGhpcy5jb25maWcuZm9ybUZpZWxkPy5mb2N1c0NvbG9yT3V0bGluZSA/PyBDb2xvclV0aWwuY2hhbmdlQ29sb3JPcGFjaXR5KHRoaXMuY29uZmlnLmJhc2VDb2xvcnMucHJpbWFyeSBhcyBzdHJpbmcsIDQwKTtcclxuICBwdWJsaWMgZXJyb3JDb2xvcjogc3RyaW5nID0gdGhpcy5jb25maWcuZm9ybUZpZWxkPy5lcnJvckNvbG9yID8/IHRoaXMuY29uZmlnLmJhc2VDb2xvcnMud2FybiBhcyBzdHJpbmc7XHJcbiAgcHVibGljIGVycm9yQ29sb3JEYXJrOiBzdHJpbmcgPSB0aGlzLmNvbmZpZy5mb3JtRmllbGQ/LmVycm9Db2xvckRhcmsgPz8gQ29sb3JVdGlsLmNoYW5nZUNvbG9yQnJpZ2h0bmVzc1BlcmNlbnQodGhpcy5jb25maWcuYmFzZUNvbG9ycy53YXJuIGFzIHN0cmluZywgMTApO1xyXG4gIHB1YmxpYyBlcnJvckNvbG9yT3V0bGluZTogc3RyaW5nID0gdGhpcy5jb25maWcuZm9ybUZpZWxkPy5lcnJvckNvbG9yT3V0bGluZSA/PyBDb2xvclV0aWwuY2hhbmdlQ29sb3JPcGFjaXR5KHRoaXMuY29uZmlnLmJhc2VDb2xvcnMud2FybiBhcyBzdHJpbmcsIDQwKTtcclxuXHJcbiAgcHJpdmF0ZSB0aW1lb3V0czogYW55W10gPSBbXTtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIGNkcjogQ2hhbmdlRGV0ZWN0b3JSZWZcclxuICApIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgfVxyXG5cclxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcclxuICAgIHN1cGVyLm5nT25EZXN0cm95KCk7XHJcbiAgICB0aGlzLnRpbWVvdXRzLmZvckVhY2goKHRpbWVvdXQpID0+IGNsZWFyVGltZW91dCh0aW1lb3V0KSk7XHJcbiAgfVxyXG5cclxuICBuZ0FmdGVyVmlld0luaXQoKTogdm9pZCB7XHJcbiAgICB0aGlzLmJvcmRlclJhZGl1cyA9IHRoaXMuYm9yZGVyUmFkaXVzID8/IHRoaXMucm91bmRlZCA/IHRoaXMuY29uZmlnLmZvcm1GaWVsZD8uYm9yZGVyUmFkaXVzUm91bmRlZCA6IHRoaXMuY29uZmlnLmZvcm1GaWVsZD8uYm9yZGVyUmFkaXVzO1xyXG5cclxuICAgIGlmIChVdGlsLmlzRGVmaW5lZCh0aGlzLmlucHV0KSkge1xyXG4gICAgICB0aGlzLmlucHV0LmNlbnRlcmVkID0gdGhpcy5jZW50ZXJlZDtcclxuICAgICAgaWYgKFV0aWwuaXNEZWZpbmVkKHRoaXMuaW5wdXQuZm9ybUNvbnRyb2wpKSB7XHJcbiAgICAgICAgdGhpcy53YXRjaCh0aGlzLmlucHV0LmZvcm1Db250cm9sLnZhbHVlQ2hhbmdlcywgbmV3IFN1YnNjcmlwdGlvbkhhbmRsZXIoKCkgPT4ge1xyXG4gICAgICAgICAgaWYgKFV0aWwuaXNEZWZpbmVkKHRoaXMuZXJyb3IpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXJyb3IuZXJyb3IgPSBVdGlsLmlzRGVmaW5lZCh0aGlzLmlucHV0LmZvcm1Db250cm9sLmVycm9yKSA/IHRoaXMuaW5wdXQuZm9ybUNvbnRyb2wuZXJyb3IuZXJyb3IgOiAnJztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMuaGFzRXJyb3IgPSBVdGlsLmlzRGVmaW5lZCh0aGlzLmlucHV0LmZvcm1Db250cm9sLmVycm9yKTtcclxuICAgICAgICAgIHRoaXMuaW5wdXQuZm9ybUNvbnRyb2wubWFya0FzRGlydHkoKTtcclxuICAgICAgICAgIHRoaXMuY2RyLm1hcmtGb3JDaGVjaygpO1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgICB0aGlzLndhdGNoKHRoaXMuaW5wdXQuZm9ybUNvbnRyb2wuY29udHJvbC5zdGF0dXNDaGFuZ2VzLCBuZXcgU3Vic2NyaXB0aW9uSGFuZGxlcigoKSA9PiB7XHJcbiAgICAgICAgICBpZiAodGhpcy5yZXF1aXJlZEFzdGVyaXNrICYmIFV0aWwuaXNEZWZpbmVkKHRoaXMubGFiZWwpICYmIHRoaXMuaW5wdXQuZm9ybUNvbnRyb2wucmVxdWlyZWQpIHtcclxuICAgICAgICAgICAgdGhpcy50aW1lb3V0cy5wdXNoKHNldFRpbWVvdXQoKCkgPT4gdGhpcy5sYWJlbC5yZXF1aXJlZC52YWx1ZSA9IHRydWUsIDEpKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZW91dHMucHVzaChzZXRUaW1lb3V0KCgpID0+IHRoaXMubGFiZWwucmVxdWlyZWQudmFsdWUgPSBmYWxzZSwgMSkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhpcy5kaXNhYmxlZCA9IHRoaXMuaW5wdXQuZm9ybUNvbnRyb2wuZGlzYWJsZWQ7XHJcbiAgICAgICAgICB0aGlzLmNkci5tYXJrRm9yQ2hlY2soKTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgaWYgKFV0aWwuaXNEZWZpbmVkKHRoaXMuZXJyb3IpICYmIHRoaXMuaW5wdXQuZm9ybUNvbnRyb2wudG91Y2hlZCkge1xyXG4gICAgICAgICAgdGhpcy5lcnJvci5lcnJvciA9IFV0aWwuaXNEZWZpbmVkKHRoaXMuaW5wdXQuZm9ybUNvbnRyb2wuZXJyb3IpID8gdGhpcy5pbnB1dC5mb3JtQ29udHJvbC5lcnJvci5lcnJvciA6ICcnO1xyXG4gICAgICAgICAgdGhpcy5oYXNFcnJvciA9IFV0aWwuaXNEZWZpbmVkKHRoaXMuaW5wdXQuZm9ybUNvbnRyb2wuZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5yZXF1aXJlZEFzdGVyaXNrICYmIFV0aWwuaXNEZWZpbmVkKHRoaXMubGFiZWwpICYmIHRoaXMuaW5wdXQuZm9ybUNvbnRyb2wucmVxdWlyZWQpIHtcclxuICAgICAgICAgIHRoaXMudGltZW91dHMucHVzaChzZXRUaW1lb3V0KCgpID0+IHRoaXMubGFiZWwucmVxdWlyZWQudmFsdWUgPSB0cnVlLCAxKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZGlzYWJsZWQgPSB0aGlzLmlucHV0LmZvcm1Db250cm9sLmRpc2FibGVkO1xyXG4gICAgICAgIGlmIChVdGlsLmlzRGVmaW5lZCh0aGlzLmlucHV0LmZvcm1Db250cm9sLnZhbHVlKSkge1xyXG4gICAgICAgICAgdGhpcy5pbnB1dC5mb3JtQ29udHJvbC5jb250cm9sLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoe2VtaXRFdmVudDogZmFsc2V9KTtcclxuICAgICAgICAgIGlmIChVdGlsLmlzRGVmaW5lZCh0aGlzLmVycm9yKSkge1xyXG4gICAgICAgICAgICB0aGlzLmVycm9yLmVycm9yID0gVXRpbC5pc0RlZmluZWQodGhpcy5pbnB1dC5mb3JtQ29udHJvbC5lcnJvcikgPyB0aGlzLmlucHV0LmZvcm1Db250cm9sLmVycm9yLmVycm9yIDogJyc7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmhhc0Vycm9yID0gVXRpbC5pc0RlZmluZWQodGhpcy5pbnB1dC5mb3JtQ29udHJvbC5lcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2RyLmRldGVjdENoYW5nZXMoKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoVXRpbC5pc0RlZmluZWQodGhpcy5sYWJlbCkpIHtcclxuICAgICAgICBpZiAoKFV0aWwuaXNEZWZpbmVkKHRoaXMuaW5wdXQuZm9ybUNvbnRyb2wpICYmIFV0aWwuaXNEZWZpbmVkKHRoaXMuaW5wdXQuZm9ybUNvbnRyb2wudmFsdWUpICYmIHRoaXMuaW5wdXQuZm9ybUNvbnRyb2wudmFsdWUgIT09ICcnKSB8fFxyXG4gICAgICAgICAgKFV0aWwuaXNEZWZpbmVkKHRoaXMuaW5wdXQudmFsdWUpICYmIHRoaXMuaW5wdXQudmFsdWUgIT09ICcnKSkge1xyXG4gICAgICAgICAgdGhpcy5sYWJlbC5mbG9hdGluZy52YWx1ZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuaW5wdXQudG91Y2hlZC5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgIGlmIChVdGlsLmlzRGVmaW5lZCh0aGlzLmlucHV0LmZvcm1Db250cm9sKSkge1xyXG4gICAgICAgICAgdGhpcy5pbnB1dC5mb3JtQ29udHJvbC5tYXJrQXNUb3VjaGVkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2RyLm1hcmtGb3JDaGVjaygpO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5pbnB1dC5mb2N1c2VkLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5mb2N1c2VkID0gdHJ1ZTtcclxuICAgICAgICBpZiAoVXRpbC5pc0RlZmluZWQodGhpcy5sYWJlbCkpIHtcclxuICAgICAgICAgIHRoaXMubGFiZWwuZmxvYXRpbmcudmFsdWUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNkci5tYXJrRm9yQ2hlY2soKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0aGlzLmlucHV0LmJsdXJyZWQuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICB0aGlzLmZvY3VzZWQgPSBmYWxzZTtcclxuICAgICAgICBpZiAoVXRpbC5pc0RlZmluZWQodGhpcy5sYWJlbCkpIHtcclxuICAgICAgICAgIGlmIChVdGlsLmlzRGVmaW5lZCh0aGlzLmlucHV0LmZvcm1Db250cm9sKSkge1xyXG4gICAgICAgICAgICBpZiAoIVV0aWwuaXNEZWZpbmVkKHRoaXMuaW5wdXQuZm9ybUNvbnRyb2wudmFsdWUpIHx8IHRoaXMuaW5wdXQuZm9ybUNvbnRyb2wudmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5sYWJlbC5mbG9hdGluZy52YWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKCFVdGlsLmlzRGVmaW5lZCh0aGlzLmlucHV0LnZhbHVlKSB8fCB0aGlzLmlucHV0LnZhbHVlID09PSAnJykge1xyXG4gICAgICAgICAgICB0aGlzLmxhYmVsLmZsb2F0aW5nLnZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChVdGlsLmlzRGVmaW5lZCh0aGlzLmlucHV0LmZvcm1Db250cm9sKSkge1xyXG4gICAgICAgICAgdGhpcy5pbnB1dC5mb3JtQ29udHJvbC5jb250cm9sLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoe2VtaXRFdmVudDogZmFsc2V9KTtcclxuICAgICAgICAgIGlmIChVdGlsLmlzRGVmaW5lZCh0aGlzLmVycm9yKSkge1xyXG4gICAgICAgICAgICB0aGlzLmVycm9yLmVycm9yID0gVXRpbC5pc0RlZmluZWQodGhpcy5pbnB1dC5mb3JtQ29udHJvbC5lcnJvcikgPyB0aGlzLmlucHV0LmZvcm1Db250cm9sLmVycm9yLmVycm9yIDogJyc7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmhhc0Vycm9yID0gVXRpbC5pc0RlZmluZWQodGhpcy5pbnB1dC5mb3JtQ29udHJvbC5lcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2RyLm1hcmtGb3JDaGVjaygpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoVXRpbC5pc0RlZmluZWQodGhpcy5zZWxlY3QpKSB7XHJcbiAgICAgIGlmIChVdGlsLmlzRGVmaW5lZCh0aGlzLnNlbGVjdC5mb3JtQ29udHJvbCkpIHtcclxuICAgICAgICB0aGlzLndhdGNoKHRoaXMuc2VsZWN0LmZvcm1Db250cm9sLnZhbHVlQ2hhbmdlcywgbmV3IFN1YnNjcmlwdGlvbkhhbmRsZXIoKCkgPT4ge1xyXG4gICAgICAgICAgaWYgKFV0aWwuaXNEZWZpbmVkKHRoaXMuZXJyb3IpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXJyb3IuZXJyb3IgPSBVdGlsLmlzRGVmaW5lZCh0aGlzLnNlbGVjdC5mb3JtQ29udHJvbC5lcnJvcikgPyB0aGlzLnNlbGVjdC5mb3JtQ29udHJvbC5lcnJvci5lcnJvciA6ICcnO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhpcy5oYXNFcnJvciA9IFV0aWwuaXNEZWZpbmVkKHRoaXMuc2VsZWN0LmZvcm1Db250cm9sLmVycm9yKTtcclxuICAgICAgICAgIGlmIChVdGlsLmlzRGVmaW5lZCh0aGlzLmxhYmVsKSkge1xyXG4gICAgICAgICAgICBpZiAoVXRpbC5pc0RlZmluZWQodGhpcy5zZWxlY3QuZm9ybUNvbnRyb2wudmFsdWUpICYmIHRoaXMuc2VsZWN0LmZvcm1Db250cm9sLnZhbHVlICE9PSAnJykge1xyXG4gICAgICAgICAgICAgIHRoaXMubGFiZWwuZmxvYXRpbmcudmFsdWUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHRoaXMubGFiZWwuZmxvYXRpbmcudmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhpcy5zZWxlY3QuZm9ybUNvbnRyb2wubWFya0FzRGlydHkoKTtcclxuICAgICAgICAgIHRoaXMuY2RyLm1hcmtGb3JDaGVjaygpO1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgICB0aGlzLndhdGNoKHRoaXMuc2VsZWN0LmZvcm1Db250cm9sLmNvbnRyb2wuc3RhdHVzQ2hhbmdlcywgbmV3IFN1YnNjcmlwdGlvbkhhbmRsZXIoKCkgPT4ge1xyXG4gICAgICAgICAgaWYgKHRoaXMucmVxdWlyZWRBc3RlcmlzayAmJiBVdGlsLmlzRGVmaW5lZCh0aGlzLmxhYmVsKSAmJiB0aGlzLnNlbGVjdC5mb3JtQ29udHJvbC5yZXF1aXJlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVvdXRzLnB1c2goc2V0VGltZW91dCgoKSA9PiB0aGlzLmxhYmVsLnJlcXVpcmVkLnZhbHVlID0gdHJ1ZSwgMSkpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy50aW1lb3V0cy5wdXNoKHNldFRpbWVvdXQoKCkgPT4gdGhpcy5sYWJlbC5yZXF1aXJlZC52YWx1ZSA9IGZhbHNlLCAxKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmRpc2FibGVkID0gdGhpcy5zZWxlY3QuZm9ybUNvbnRyb2wuZGlzYWJsZWQ7XHJcbiAgICAgICAgICB0aGlzLmNkci5tYXJrRm9yQ2hlY2soKTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgaWYgKFV0aWwuaXNEZWZpbmVkKHRoaXMuZXJyb3IpICYmIHRoaXMuc2VsZWN0LmZvcm1Db250cm9sLnRvdWNoZWQpIHtcclxuICAgICAgICAgIHRoaXMuZXJyb3IuZXJyb3IgPSBVdGlsLmlzRGVmaW5lZCh0aGlzLnNlbGVjdC5mb3JtQ29udHJvbC5lcnJvcikgPyB0aGlzLnNlbGVjdC5mb3JtQ29udHJvbC5lcnJvci5lcnJvciA6ICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5yZXF1aXJlZEFzdGVyaXNrICYmIFV0aWwuaXNEZWZpbmVkKHRoaXMubGFiZWwpICYmIHRoaXMuc2VsZWN0LmZvcm1Db250cm9sLnJlcXVpcmVkKSB7XHJcbiAgICAgICAgICB0aGlzLnRpbWVvdXRzLnB1c2goc2V0VGltZW91dCgoKSA9PiB0aGlzLmxhYmVsLnJlcXVpcmVkLnZhbHVlID0gdHJ1ZSwgMSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmRpc2FibGVkID0gdGhpcy5zZWxlY3QuZm9ybUNvbnRyb2wuZGlzYWJsZWQ7XHJcbiAgICAgICAgaWYgKFV0aWwuaXNEZWZpbmVkKHRoaXMuc2VsZWN0LmZvcm1Db250cm9sLnZhbHVlKSkge1xyXG4gICAgICAgICAgdGhpcy5zZWxlY3QuZm9ybUNvbnRyb2wuY29udHJvbC51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtlbWl0RXZlbnQ6IGZhbHNlfSk7XHJcbiAgICAgICAgICBpZiAoVXRpbC5pc0RlZmluZWQodGhpcy5lcnJvcikpIHtcclxuICAgICAgICAgICAgdGhpcy5lcnJvci5lcnJvciA9IFV0aWwuaXNEZWZpbmVkKHRoaXMuc2VsZWN0LmZvcm1Db250cm9sLmVycm9yKSA/IHRoaXMuc2VsZWN0LmZvcm1Db250cm9sLmVycm9yLmVycm9yIDogJyc7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmhhc0Vycm9yID0gVXRpbC5pc0RlZmluZWQodGhpcy5zZWxlY3QuZm9ybUNvbnRyb2wuZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNkci5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChVdGlsLmlzRGVmaW5lZCh0aGlzLmxhYmVsKSkge1xyXG4gICAgICAgIGlmICgoVXRpbC5pc0RlZmluZWQodGhpcy5zZWxlY3QuZm9ybUNvbnRyb2wpICYmIFV0aWwuaXNEZWZpbmVkKHRoaXMuc2VsZWN0LmZvcm1Db250cm9sLnZhbHVlKSAmJiB0aGlzLnNlbGVjdC5mb3JtQ29udHJvbC52YWx1ZSAhPT0gJycpIHx8XHJcbiAgICAgICAgICAoVXRpbC5pc0RlZmluZWQodGhpcy5zZWxlY3QudmFsdWUpICYmIHRoaXMuc2VsZWN0LnZhbHVlICE9PSAnJykpIHtcclxuICAgICAgICAgIHRoaXMubGFiZWwuZmxvYXRpbmcudmFsdWUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB0aGlzLnNlbGVjdC50b3VjaGVkLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0LmF1dG9Db21wbGV0ZSAmJiBVdGlsLmlzRGVmaW5lZCh0aGlzLnNlbGVjdC5mb3JtQ29udHJvbCkpIHtcclxuICAgICAgICAgIHRoaXMuc2VsZWN0LmZvcm1Db250cm9sLm1hcmtBc1RvdWNoZWQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jZHIubWFya0ZvckNoZWNrKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLnNlbGVjdC5mb2N1c2VkLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5mb2N1c2VkID0gdHJ1ZTtcclxuICAgICAgICBpZiAodGhpcy5zZWxlY3QuYXV0b0NvbXBsZXRlICYmIFV0aWwuaXNEZWZpbmVkKHRoaXMubGFiZWwpKSB7XHJcbiAgICAgICAgICB0aGlzLmxhYmVsLmZsb2F0aW5nLnZhbHVlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jZHIuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5zZWxlY3QuYmx1cnJlZC5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZm9jdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIGlmIChVdGlsLmlzRGVmaW5lZCh0aGlzLmxhYmVsKSkge1xyXG4gICAgICAgICAgaWYgKCghVXRpbC5pc0RlZmluZWQodGhpcy5zZWxlY3QuZm9ybUNvbnRyb2wpIHx8ICFVdGlsLmlzRGVmaW5lZCh0aGlzLnNlbGVjdC5mb3JtQ29udHJvbC52YWx1ZSkgfHwgdGhpcy5zZWxlY3QuZm9ybUNvbnRyb2wudmFsdWUgPT09ICcnKSAmJlxyXG4gICAgICAgICAgICAoIVV0aWwuaXNEZWZpbmVkKHRoaXMuc2VsZWN0LnZhbHVlKSB8fCB0aGlzLnNlbGVjdC52YWx1ZSA9PT0gJycpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFiZWwuZmxvYXRpbmcudmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKFV0aWwuaXNEZWZpbmVkKHRoaXMuc2VsZWN0LmZvcm1Db250cm9sKSkge1xyXG4gICAgICAgICAgdGhpcy5zZWxlY3QuZm9ybUNvbnRyb2wuY29udHJvbC51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtlbWl0RXZlbnQ6IGZhbHNlfSk7XHJcbiAgICAgICAgICBpZiAoVXRpbC5pc0RlZmluZWQodGhpcy5lcnJvcikpIHtcclxuICAgICAgICAgICAgdGhpcy5lcnJvci5lcnJvciA9IFV0aWwuaXNEZWZpbmVkKHRoaXMuc2VsZWN0LmZvcm1Db250cm9sLmVycm9yKSA/IHRoaXMuc2VsZWN0LmZvcm1Db250cm9sLmVycm9yLmVycm9yIDogJyc7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmhhc0Vycm9yID0gVXRpbC5pc0RlZmluZWQodGhpcy5zZWxlY3QuZm9ybUNvbnRyb2wuZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNkci5tYXJrRm9yQ2hlY2soKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmNkci5tYXJrRm9yQ2hlY2soKTtcclxuICB9XHJcbn1cclxuIiwiPGRpdiBjbGFzcz1cIm1yZC1mb3JtLWZpZWxkLWNvbnRhaW5lclwiXHJcbiAgW3N0eWxlLi0tZm9jdXMtY29sb3JdPVwiZm9jdXNDb2xvclwiXHJcbiAgW3N0eWxlLi0tZXJyb3ItY29sb3JdPVwiZXJyb3JDb2xvclwiXHJcbiAgW3N0eWxlLi0tZm9jdXMtY29sb3ItZGFya109XCJmb2N1c0NvbG9yRGFya1wiXHJcbiAgW3N0eWxlLi0tZXJyb3ItY29sb3ItZGFya109XCJlcnJvckNvbG9yRGFya1wiXHJcbiAgW3N0eWxlLi0tZm9jdXMtY29sb3Itb3V0bGluZV09XCJmb2N1c0NvbG9yT3V0bGluZVwiXHJcbiAgW3N0eWxlLi0tZXJyb3ItY29sb3Itb3V0bGluZV09XCJlcnJvckNvbG9yT3V0bGluZVwiXHJcbiAgW3N0eWxlLi0tZmYtYm9yZGVyLXJhZGl1c109XCJib3JkZXJSYWRpdXNcIlxyXG4+XHJcbiAgPGRpdiBjbGFzcz1cIm1yZC1mb3JtLWZpZWxkLWNvbnRlbnQtY29udGFpbmVyXCJcclxuICAgIFtuZ0NsYXNzXT1cInsnbXJkLWZvcm0tZmllbGQtZXJyb3InOiBoYXNFcnJvciwgJ21yZC1mb3JtLWZpZWxkLWRpc2FibGVkJzogZGlzYWJsZWQsICdtcmQtZm9ybS1maWVsZC1mb2N1c2VkJzogZm9jdXNlZCxcclxuICAgICAgJ21yZC1mb3JtLWZpZWxkLWNvbnRlbnQtY29udGFpbmVyLW91dGxpbmUnOiBvdXRsaW5lLCAnbXJkLWZvcm0tZmllbGQtY29udGVudC1jb250YWluZXItZmlsbCc6IGZpbGwsICdtcmQtZm9ybS1maWVsZC1kYXJrLXRoZW1lJzogZGFya31cIj5cclxuICAgIDxuZy1jb250ZW50IHNlbGVjdD1cIm1yZC1wcmVmaXhcIj48L25nLWNvbnRlbnQ+XHJcbiAgICA8ZGl2IGNsYXNzPVwibXJkLWZvcm0tZmllbGQtaW5wdXQtY29udGVudC1jb250YWluZXJcIj5cclxuXHJcbiAgICAgIDxuZy1jb250ZW50IHNlbGVjdD1cIm1yZC1pbnB1dFwiPjwvbmctY29udGVudD5cclxuICAgICAgPG5nLWNvbnRlbnQgc2VsZWN0PVwibXJkLXNlbGVjdFwiPjwvbmctY29udGVudD5cclxuICAgICAgPG5nLWNvbnRlbnQgc2VsZWN0PVwibXJkLWxhYmVsXCI+PC9uZy1jb250ZW50PlxyXG5cclxuICAgIDwvZGl2PlxyXG4gICAgPG5nLWNvbnRlbnQgc2VsZWN0PVwibXJkLXN1ZmZpeFwiPjwvbmctY29udGVudD5cclxuICA8L2Rpdj5cclxuICA8ZGl2IGNsYXNzPVwibXJkLWZvcm0tZmllbGQtc3ViY29udGVudC1jb250YWluZXJcIj5cclxuICAgIDxuZy1jb250ZW50IHNlbGVjdD1cIm1yZC1oaW50XCI+PC9uZy1jb250ZW50PlxyXG4gICAgPG5nLWNvbnRlbnQgc2VsZWN0PVwibXJkLWVycm9yXCI+PC9uZy1jb250ZW50PlxyXG4gIDwvZGl2PlxyXG48L2Rpdj5cclxuIl19