import { ColorUtil } from './../../../../common/util/color.util';
import { booleanAttribute, ChangeDetectionStrategy, Component, ContentChild, Input } from '@angular/core';
import { MrdInputComponent } from '../mrd-input/mrd-input.component';
import { MrdLabelComponent } from '../mrd-label/mrd-label.component';
import { BaseObject, SubscriptionHandler, Util } from 'mrd-core';
import { MrdErrorComponent } from '../mrd-error/mrd-error.component';
import { MrdSelectComponent } from '../mrd-select/mrd-select.component';
import { ConfigUtil } from '../../../../common/util/config.util';
import { sizeAttribute } from '../../../../common/transforms/size-transform';
import { colorAttribute } from '../../../../common/transforms/color-transform';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
const _c0 = [[["mrd-prefix"]], [["mrd-input"]], [["mrd-select"]], [["mrd-label"]], [["mrd-suffix"]], [["mrd-hint"]], [["mrd-error"]]];
const _c1 = function (a0, a1) { return { "mrd-form-field-container-fill": a0, "mrd-form-field-container-outline": a1 }; };
const _c2 = function (a0, a1, a2, a3, a4, a5) { return { "mrd-form-field-error": a0, "mrd-form-field-disabled": a1, "mrd-form-field-focused": a2, "mrd-form-field-content-container-outline": a3, "mrd-form-field-content-container-fill": a4, "mrd-form-field-dark-theme": a5 }; };
const _c3 = ["mrd-prefix", "mrd-input", "mrd-select", "mrd-label", "mrd-suffix", "mrd-hint", "mrd-error"];
export class MrdFormFieldComponent extends BaseObject {
    cdr;
    config = ConfigUtil.getConfig();
    input;
    select;
    label;
    error;
    // @Input() public appearance: 'standard' | 'outline' = 'standard';
    outline = false;
    fill = false;
    dark = false;
    requiredAsterisk = true;
    rounded = false;
    borderRadius;
    centered = false;
    fillColor;
    disabled = false;
    focused = false;
    hasError = false;
    focusColor = this.config.formField?.focusColor ?? this.config.baseColors.primary;
    focusColorDark = this.config.formField?.focusColorDark ?? ColorUtil.changeColorBrightnessPercent(this.config.baseColors.primary, 10);
    focusColorOutline = this.config.formField?.focusColorOutline ?? ColorUtil.changeColorOpacity(this.config.baseColors.primary, 40);
    errorColor = this.config.formField?.errorColor ?? this.config.baseColors.warn;
    errorColorDark = this.config.formField?.erroColorDark ?? ColorUtil.changeColorBrightnessPercent(this.config.baseColors.warn, 10);
    errorColorOutline = this.config.formField?.errorColorOutline ?? ColorUtil.changeColorOpacity(this.config.baseColors.warn, 40);
    timeouts = [];
    constructor(cdr) {
        super();
        this.cdr = cdr;
    }
    ngOnDestroy() {
        super.ngOnDestroy();
        this.timeouts.forEach((timeout) => clearTimeout(timeout));
    }
    ngAfterViewInit() {
        this.borderRadius = this.borderRadius ?? this.rounded ? this.config.formField?.borderRadiusRounded : this.config.formField?.borderRadius;
        this.fillColor = this.fillColor ?? this.config.formField?.fill?.backgroundColor;
        if (Util.isDefined(this.input)) {
            this.input.centered = this.centered;
            if (Util.isDefined(this.input.formControl)) {
                this.watch(this.input.formControl.valueChanges, new SubscriptionHandler(() => {
                    if (Util.isDefined(this.error)) {
                        this.error.error = Util.isDefined(this.input.formControl.error) ? this.input.formControl.error.error : '';
                    }
                    this.hasError = Util.isDefined(this.input.formControl.error);
                    this.input.formControl.markAsDirty();
                    this.cdr.markForCheck();
                }));
                this.watch(this.input.formControl.control.statusChanges, new SubscriptionHandler(() => {
                    if (this.requiredAsterisk && Util.isDefined(this.label) && this.input.formControl.required) {
                        this.timeouts.push(setTimeout(() => this.label.required.value = true, 1));
                    }
                    else if (Util.isDefined(this.label)) {
                        this.timeouts.push(setTimeout(() => this.label.required.value = false, 1));
                    }
                    this.disabled = this.input.formControl.disabled;
                    this.cdr.markForCheck();
                }));
                if (Util.isDefined(this.error) && this.input.formControl.touched) {
                    this.error.error = Util.isDefined(this.input.formControl.error) ? this.input.formControl.error.error : '';
                    this.hasError = Util.isDefined(this.input.formControl.error);
                }
                if (this.requiredAsterisk && Util.isDefined(this.label) && this.input.formControl.required) {
                    this.timeouts.push(setTimeout(() => this.label.required.value = true, 1));
                }
                this.disabled = this.input.formControl.disabled;
                if (Util.isDefined(this.input.formControl.value)) {
                    this.input.formControl.control.updateValueAndValidity({ emitEvent: false });
                    if (Util.isDefined(this.error)) {
                        this.error.error = Util.isDefined(this.input.formControl.error) ? this.input.formControl.error.error : '';
                    }
                    this.hasError = Util.isDefined(this.input.formControl.error);
                }
                this.cdr.detectChanges();
            }
            if (Util.isDefined(this.label)) {
                if ((Util.isDefined(this.input.formControl) && Util.isDefined(this.input.formControl.value) && this.input.formControl.value !== '') ||
                    (Util.isDefined(this.input.value) && this.input.value !== '')) {
                    this.label.floating.value = true;
                }
                if (this.input.textarea) {
                    this.label.labelTop = true;
                    this.cdr.detectChanges();
                }
            }
            this.input.touched.subscribe(() => {
                if (Util.isDefined(this.input.formControl)) {
                    this.input.formControl.markAsTouched();
                }
                this.cdr.markForCheck();
            });
            this.input.focused.subscribe(() => {
                this.focused = true;
                if (Util.isDefined(this.label)) {
                    this.label.floating.value = true;
                }
                this.cdr.markForCheck();
            });
            this.input.blurred.subscribe(() => {
                this.focused = false;
                if (Util.isDefined(this.label)) {
                    if (Util.isDefined(this.input.formControl)) {
                        if (!Util.isDefined(this.input.formControl.value) || this.input.formControl.value === '') {
                            this.label.floating.value = false;
                        }
                    }
                    else if (!Util.isDefined(this.input.value) || this.input.value === '') {
                        this.label.floating.value = false;
                    }
                }
                if (Util.isDefined(this.input.formControl)) {
                    this.input.formControl.control.updateValueAndValidity({ emitEvent: false });
                    if (Util.isDefined(this.error)) {
                        this.error.error = Util.isDefined(this.input.formControl.error) ? this.input.formControl.error.error : '';
                    }
                    this.hasError = Util.isDefined(this.input.formControl.error);
                }
                this.cdr.markForCheck();
            });
        }
        if (Util.isDefined(this.select)) {
            if (Util.isDefined(this.select.formControl)) {
                this.watch(this.select.formControl.valueChanges, new SubscriptionHandler(() => {
                    if (Util.isDefined(this.error)) {
                        this.error.error = Util.isDefined(this.select.formControl.error) ? this.select.formControl.error.error : '';
                    }
                    this.hasError = Util.isDefined(this.select.formControl.error);
                    if (Util.isDefined(this.label)) {
                        if (Util.isDefined(this.select.formControl.value) && this.select.formControl.value !== '') {
                            this.label.floating.value = true;
                        }
                        else {
                            this.label.floating.value = false;
                        }
                    }
                    this.select.formControl.markAsDirty();
                    this.cdr.markForCheck();
                }));
                this.watch(this.select.formControl.control.statusChanges, new SubscriptionHandler(() => {
                    if (this.requiredAsterisk && Util.isDefined(this.label) && this.select.formControl.required) {
                        this.timeouts.push(setTimeout(() => this.label.required.value = true, 1));
                    }
                    else {
                        this.timeouts.push(setTimeout(() => this.label.required.value = false, 1));
                    }
                    this.disabled = this.select.formControl.disabled;
                    this.cdr.markForCheck();
                }));
                if (Util.isDefined(this.error) && this.select.formControl.touched) {
                    this.error.error = Util.isDefined(this.select.formControl.error) ? this.select.formControl.error.error : '';
                }
                if (this.requiredAsterisk && Util.isDefined(this.label) && this.select.formControl.required) {
                    this.timeouts.push(setTimeout(() => this.label.required.value = true, 1));
                }
                this.disabled = this.select.formControl.disabled;
                if (Util.isDefined(this.select.formControl.value)) {
                    this.select.formControl.control.updateValueAndValidity({ emitEvent: false });
                    if (Util.isDefined(this.error)) {
                        this.error.error = Util.isDefined(this.select.formControl.error) ? this.select.formControl.error.error : '';
                    }
                    this.hasError = Util.isDefined(this.select.formControl.error);
                }
                this.cdr.detectChanges();
            }
            if (Util.isDefined(this.select.formArrayControl)) {
                this.watch(this.select.formArrayControl.control.valueChanges, new SubscriptionHandler(() => {
                    debugger;
                    if (Util.isDefined(this.error)) {
                        this.error.error = Util.isDefined(this.select.formArrayControl.error) ? this.select.formArrayControl.error.error : '';
                    }
                    this.hasError = Util.isDefined(this.select.formArrayControl.error);
                    if (Util.isDefined(this.label)) {
                        if (Util.isDefined(this.select.formArrayControl.control.value) && this.select.formArrayControl.control.value.length > 0) {
                            this.label.floating.value = true;
                        }
                        else {
                            this.label.floating.value = false;
                        }
                    }
                    this.select.formArrayControl.markAsDirty();
                    this.cdr.markForCheck();
                }));
                this.watch(this.select.formArrayControl.control.statusChanges, new SubscriptionHandler(() => {
                    if (this.requiredAsterisk && Util.isDefined(this.label) && this.select.formArrayControl.required) {
                        this.timeouts.push(setTimeout(() => this.label.required.value = true, 1));
                    }
                    else {
                        this.timeouts.push(setTimeout(() => this.label.required.value = false, 1));
                    }
                    this.disabled = this.select.formArrayControl.control.disabled;
                    this.cdr.markForCheck();
                }));
                if (Util.isDefined(this.error) && this.select.formArrayControl.touched) {
                    this.error.error = Util.isDefined(this.select.formArrayControl.error) ? this.select.formArrayControl.error.error : '';
                }
                if (this.requiredAsterisk && Util.isDefined(this.label) && this.select.formArrayControl.required) {
                    this.timeouts.push(setTimeout(() => this.label.required.value = true, 1));
                }
                this.disabled = this.select.formArrayControl.control.disabled;
                if (this.select.formArrayControl.value.length > 0) {
                    this.select.formArrayControl.control.updateValueAndValidity({ emitEvent: false });
                    if (Util.isDefined(this.error)) {
                        this.error.error = Util.isDefined(this.select.formArrayControl.error) ? this.select.formArrayControl.error.error : '';
                    }
                    this.hasError = Util.isDefined(this.select.formArrayControl.error);
                }
                this.cdr.detectChanges();
            }
            if (Util.isDefined(this.label)) {
                if ((Util.isDefined(this.select.formControl) && Util.isDefined(this.select.formControl.value) && this.select.formControl.value !== '') ||
                    (Util.isDefined(this.select.value) && this.select.value !== '')) {
                    this.label.floating.value = true;
                }
                if ((Util.isDefined(this.select.formArrayControl) && Util.isDefined(this.select.formArrayControl.value) && this.select.formArrayControl.value.length > 0) ||
                    (Util.isDefined(this.select.value) && this.select.value.length > 0)) {
                    this.label.floating.value = true;
                }
            }
            this.select.touched.subscribe(() => {
                if (this.select.autoComplete && Util.isDefined(this.select.formControl)) {
                    this.select.formControl.markAsTouched();
                }
                if (this.select.autoComplete && Util.isDefined(this.select.formArrayControl)) {
                    this.select.formArrayControl.markAsTouched();
                }
            });
            this.select.focused.subscribe(() => {
                this.focused = true;
                if (this.select.autoComplete && Util.isDefined(this.label)) {
                    this.label.floating.value = true;
                }
                this.cdr.detectChanges();
            });
            this.select.blurred.subscribe(() => {
                this.focused = false;
                if (Util.isDefined(this.label)) {
                    if ((!Util.isDefined(this.select.formControl) || !Util.isDefined(this.select.formControl.value) || this.select.formControl.value === '') &&
                        (!Util.isDefined(this.select.value) || this.select.value === '')) {
                        this.label.floating.value = false;
                    }
                    if ((!Util.isDefined(this.select.formArrayControl) || !Util.isDefined(this.select.formArrayControl.value) || this.select.formArrayControl.value.length === 0) &&
                        (!Util.isDefined(this.select.value) || this.select.value.length === 0)) {
                        this.label.floating.value = false;
                    }
                }
                if (Util.isDefined(this.select.formControl)) {
                    this.select.formControl.control.updateValueAndValidity({ emitEvent: false });
                    if (Util.isDefined(this.error)) {
                        this.error.error = Util.isDefined(this.select.formControl.error) ? this.select.formControl.error.error : '';
                    }
                    this.hasError = Util.isDefined(this.select.formControl.error);
                }
                if (Util.isDefined(this.select.formArrayControl)) {
                    this.select.formArrayControl.control.updateValueAndValidity({ emitEvent: false });
                    if (Util.isDefined(this.error)) {
                        this.error.error = Util.isDefined(this.select.formArrayControl.error) ? this.select.formArrayControl.error.error : '';
                    }
                    this.hasError = Util.isDefined(this.select.formArrayControl.error);
                }
                this.cdr.markForCheck();
            });
        }
        this.cdr.markForCheck();
    }
    /** @nocollapse */ static ɵfac = function MrdFormFieldComponent_Factory(t) { return new (t || MrdFormFieldComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef)); };
    /** @nocollapse */ static ɵcmp = /** @pureOrBreakMyCode */ i0.ɵɵdefineComponent({ type: MrdFormFieldComponent, selectors: [["mrd-form-field"]], contentQueries: function MrdFormFieldComponent_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {
            i0.ɵɵcontentQuery(dirIndex, MrdInputComponent, 5);
            i0.ɵɵcontentQuery(dirIndex, MrdSelectComponent, 5);
            i0.ɵɵcontentQuery(dirIndex, MrdLabelComponent, 5);
            i0.ɵɵcontentQuery(dirIndex, MrdErrorComponent, 5);
        } if (rf & 2) {
            let _t;
            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.input = _t.first);
            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.select = _t.first);
            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.label = _t.first);
            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.error = _t.first);
        } }, hostVars: 2, hostBindings: function MrdFormFieldComponent_HostBindings(rf, ctx) { if (rf & 2) {
            i0.ɵɵstyleProp("font-family", ctx.config == null ? null : ctx.config.baseFont.family);
        } }, inputs: { outline: ["outline", "outline", booleanAttribute], fill: ["fill", "fill", booleanAttribute], dark: ["dark", "dark", booleanAttribute], requiredAsterisk: "requiredAsterisk", rounded: ["rounded", "rounded", booleanAttribute], borderRadius: ["borderRadius", "borderRadius", sizeAttribute], centered: ["centered", "centered", booleanAttribute], fillColor: ["fillColor", "fillColor", colorAttribute] }, features: [i0.ɵɵInputTransformsFeature, i0.ɵɵInheritDefinitionFeature], ngContentSelectors: _c3, decls: 11, vars: 28, consts: [[1, "mrd-form-field-container", 3, "ngClass"], [1, "mrd-form-field-content-container", 3, "ngClass"], [1, "mrd-form-field-input-content-container"], [1, "mrd-form-field-subcontent-container"]], template: function MrdFormFieldComponent_Template(rf, ctx) { if (rf & 1) {
            i0.ɵɵprojectionDef(_c0);
            i0.ɵɵelementStart(0, "div", 0)(1, "div", 1);
            i0.ɵɵprojection(2);
            i0.ɵɵelementStart(3, "div", 2);
            i0.ɵɵprojection(4, 1);
            i0.ɵɵprojection(5, 2);
            i0.ɵɵprojection(6, 3);
            i0.ɵɵelementEnd();
            i0.ɵɵprojection(7, 4);
            i0.ɵɵelementEnd();
            i0.ɵɵelementStart(8, "div", 3);
            i0.ɵɵprojection(9, 5);
            i0.ɵɵprojection(10, 6);
            i0.ɵɵelementEnd()();
        } if (rf & 2) {
            i0.ɵɵstyleProp("--focus-color", ctx.focusColor)("--error-color", ctx.errorColor)("--focus-color-dark", ctx.focusColorDark)("--error-color-dark", ctx.errorColorDark)("--focus-color-outline", ctx.focusColorOutline)("--error-color-outline", ctx.errorColorOutline)("--ff-border-radius", ctx.borderRadius)("--ff-fill-color", ctx.fillColor);
            i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction2(18, _c1, ctx.fill, ctx.outline));
            i0.ɵɵadvance(1);
            i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction6(21, _c2, ctx.hasError, ctx.disabled, ctx.focused, ctx.outline, ctx.fill, ctx.dark));
        } }, dependencies: [i1.NgClass], styles: ["[_nghost-%COMP%]{display:flex;flex-direction:column;width:264px}.mrd-form-field-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.mrd-form-field-container[_ngcontent-%COMP%]:not(.mrd-form-field-container-outline):not(.mrd-form-field-container-fill){padding-top:1.25em}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;border-bottom:1px solid #afa6a6;padding-bottom:4px}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-content-container-outline[_ngcontent-%COMP%]{border-radius:var(--ff-border-radius);background-color:#fcfdfd;padding:12px;border:1px solid #293d4f}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-content-container-outline.mrd-form-field-dark-theme[_ngcontent-%COMP%]{background-color:#bcbcbc}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-content-container-outline.mrd-form-field-dark-theme[_ngcontent-%COMP%]:not(.mrd-form-field-focused):not(.mrd-form-field-error)  .s-label-content{color:#ebebeb}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-content-container-outline.mrd-form-field-dark-theme.mrd-form-field-focused[_ngcontent-%COMP%]:not(.mrd-form-field-error)  .s-label-content{color:var(--focus-color-dark)}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-content-container-outline.mrd-form-field-dark-theme.mrd-form-field-error[_ngcontent-%COMP%]:not(.mrd-form-field-focused)  .s-label-content{color:var(--error-color-dark)}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-content-container-outline[_ngcontent-%COMP%]     .s-label-content.s-label-floating{top:-2.5em}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-content-container-fill[_ngcontent-%COMP%]{border-radius:var(--ff-border-radius);background-color:var(--ff-fill-color);border-bottom:unset;padding:12px}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-content-container-fill.mrd-form-field-dark-theme[_ngcontent-%COMP%]{background-color:#fff}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-content-container-fill.mrd-form-field-dark-theme.mrd-form-field-focused[_ngcontent-%COMP%]:not(.mrd-form-field-error)  .s-label-content{color:var(--focus-color-dark)}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-content-container-fill.mrd-form-field-dark-theme.mrd-form-field-error[_ngcontent-%COMP%]:not(.mrd-form-field-focused)  .s-label-content{color:var(--error-color-dark)}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-content-container-fill[_ngcontent-%COMP%]:not(.mrd-form-field-focused):not(.mrd-form-field-error)  .s-label-content{color:#293d4f}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-content-container-fill[_ngcontent-%COMP%]     .s-label-content.s-label-floating{top:-2.5em}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-disabled[_ngcontent-%COMP%]{border-bottom-style:dotted}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-focused[_ngcontent-%COMP%]{border-bottom-color:var(--focus-color)}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-focused.mrd-form-field-content-container-outline[_ngcontent-%COMP%]{border-color:var(--focus-color-outline)}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-focused[_ngcontent-%COMP%]     .s-label-content{color:var(--focus-color)}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-focused[_ngcontent-%COMP%]     .s-select-container .s-select-trigger>svg{fill:var(--focus-color)}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-error[_ngcontent-%COMP%]{border-bottom-color:var(--error-color)}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-error.mrd-form-field-content-container-outline[_ngcontent-%COMP%]{border-color:var(--error-color-outline)}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-error[_ngcontent-%COMP%]     .s-label-content{color:var(--error-color)}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container.mrd-form-field-error[_ngcontent-%COMP%]     .s-select-container .s-select-trigger>svg{fill:var(--error-color)}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-content-container[_ngcontent-%COMP%]   .mrd-form-field-input-content-container[_ngcontent-%COMP%]{position:relative;display:flex;flex:1 1 100%;min-width:0px}.mrd-form-field-container[_ngcontent-%COMP%]   .mrd-form-field-subcontent-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:0 4px;max-height:-moz-fit-content;max-height:fit-content;min-height:1em}"], changeDetection: 0 });
}
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(MrdFormFieldComponent, [{
        type: Component,
        args: [{ selector: 'mrd-form-field', host: {
                    "[style.font-family]": "config?.baseFont.family"
                }, changeDetection: ChangeDetectionStrategy.OnPush, template: "<div class=\"mrd-form-field-container\"\r\n  [ngClass]=\"{'mrd-form-field-container-fill': fill, 'mrd-form-field-container-outline': outline}\"\r\n  [style.--focus-color]=\"focusColor\"\r\n  [style.--error-color]=\"errorColor\"\r\n  [style.--focus-color-dark]=\"focusColorDark\"\r\n  [style.--error-color-dark]=\"errorColorDark\"\r\n  [style.--focus-color-outline]=\"focusColorOutline\"\r\n  [style.--error-color-outline]=\"errorColorOutline\"\r\n  [style.--ff-border-radius]=\"borderRadius\"\r\n  [style.--ff-fill-color]=\"fillColor\"\r\n>\r\n  <div class=\"mrd-form-field-content-container\"\r\n    [ngClass]=\"{'mrd-form-field-error': hasError, 'mrd-form-field-disabled': disabled, 'mrd-form-field-focused': focused,\r\n      'mrd-form-field-content-container-outline': outline, 'mrd-form-field-content-container-fill': fill, 'mrd-form-field-dark-theme': dark}\">\r\n    <ng-content select=\"mrd-prefix\"></ng-content>\r\n    <div class=\"mrd-form-field-input-content-container\">\r\n\r\n      <ng-content select=\"mrd-input\"></ng-content>\r\n      <ng-content select=\"mrd-select\"></ng-content>\r\n      <ng-content select=\"mrd-label\"></ng-content>\r\n\r\n    </div>\r\n    <ng-content select=\"mrd-suffix\"></ng-content>\r\n  </div>\r\n  <div class=\"mrd-form-field-subcontent-container\">\r\n    <ng-content select=\"mrd-hint\"></ng-content>\r\n    <ng-content select=\"mrd-error\"></ng-content>\r\n  </div>\r\n</div>\r\n", styles: [":host{display:flex;flex-direction:column;width:264px}.mrd-form-field-container{display:flex;flex-direction:column;position:relative}.mrd-form-field-container:not(.mrd-form-field-container-outline):not(.mrd-form-field-container-fill){padding-top:1.25em}.mrd-form-field-container .mrd-form-field-content-container{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;border-bottom:1px solid #afa6a6;padding-bottom:4px}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-content-container-outline{border-radius:var(--ff-border-radius);background-color:#fcfdfd;padding:12px;border:1px solid #293d4f}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-content-container-outline.mrd-form-field-dark-theme{background-color:#bcbcbc}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-content-container-outline.mrd-form-field-dark-theme:not(.mrd-form-field-focused):not(.mrd-form-field-error)::ng-deep .s-label-content{color:#ebebeb}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-content-container-outline.mrd-form-field-dark-theme.mrd-form-field-focused:not(.mrd-form-field-error)::ng-deep .s-label-content{color:var(--focus-color-dark)}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-content-container-outline.mrd-form-field-dark-theme.mrd-form-field-error:not(.mrd-form-field-focused)::ng-deep .s-label-content{color:var(--error-color-dark)}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-content-container-outline ::ng-deep .s-label-content.s-label-floating{top:-2.5em}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-content-container-fill{border-radius:var(--ff-border-radius);background-color:var(--ff-fill-color);border-bottom:unset;padding:12px}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-content-container-fill.mrd-form-field-dark-theme{background-color:#fff}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-content-container-fill.mrd-form-field-dark-theme.mrd-form-field-focused:not(.mrd-form-field-error)::ng-deep .s-label-content{color:var(--focus-color-dark)}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-content-container-fill.mrd-form-field-dark-theme.mrd-form-field-error:not(.mrd-form-field-focused)::ng-deep .s-label-content{color:var(--error-color-dark)}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-content-container-fill:not(.mrd-form-field-focused):not(.mrd-form-field-error)::ng-deep .s-label-content{color:#293d4f}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-content-container-fill ::ng-deep .s-label-content.s-label-floating{top:-2.5em}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-disabled{border-bottom-style:dotted}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-focused{border-bottom-color:var(--focus-color)}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-focused.mrd-form-field-content-container-outline{border-color:var(--focus-color-outline)}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-focused ::ng-deep .s-label-content{color:var(--focus-color)}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-focused ::ng-deep .s-select-container .s-select-trigger>svg{fill:var(--focus-color)}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-error{border-bottom-color:var(--error-color)}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-error.mrd-form-field-content-container-outline{border-color:var(--error-color-outline)}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-error ::ng-deep .s-label-content{color:var(--error-color)}.mrd-form-field-container .mrd-form-field-content-container.mrd-form-field-error ::ng-deep .s-select-container .s-select-trigger>svg{fill:var(--error-color)}.mrd-form-field-container .mrd-form-field-content-container .mrd-form-field-input-content-container{position:relative;display:flex;flex:1 1 100%;min-width:0px}.mrd-form-field-container .mrd-form-field-subcontent-container{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:0 4px;max-height:-moz-fit-content;max-height:fit-content;min-height:1em}\n"] }]
    }], function () { return [{ type: i0.ChangeDetectorRef }]; }, { input: [{
            type: ContentChild,
            args: [MrdInputComponent]
        }], select: [{
            type: ContentChild,
            args: [MrdSelectComponent]
        }], label: [{
            type: ContentChild,
            args: [MrdLabelComponent]
        }], error: [{
            type: ContentChild,
            args: [MrdErrorComponent]
        }], outline: [{
            type: Input,
            args: [{ transform: booleanAttribute }]
        }], fill: [{
            type: Input,
            args: [{ transform: booleanAttribute }]
        }], dark: [{
            type: Input,
            args: [{ transform: booleanAttribute }]
        }], requiredAsterisk: [{
            type: Input
        }], rounded: [{
            type: Input,
            args: [{ transform: booleanAttribute }]
        }], borderRadius: [{
            type: Input,
            args: [{ transform: sizeAttribute }]
        }], centered: [{
            type: Input,
            args: [{ transform: booleanAttribute }]
        }], fillColor: [{
            type: Input,
            args: [{ transform: colorAttribute }]
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibXJkLWZvcm0tZmllbGQuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbXJkLWNvcmUtdWkvc3JjL2xpYi9tb2R1bGVzL21yZC1mb3JtLWZpZWxkL2NvbXBvbmVudHMvbXJkLWZvcm0tZmllbGQvbXJkLWZvcm0tZmllbGQuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbXJkLWNvcmUtdWkvc3JjL2xpYi9tb2R1bGVzL21yZC1mb3JtLWZpZWxkL2NvbXBvbmVudHMvbXJkLWZvcm0tZmllbGQvbXJkLWZvcm0tZmllbGQuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHNDQUFzQyxDQUFDO0FBQ2pFLE9BQU8sRUFBaUIsZ0JBQWdCLEVBQUUsdUJBQXVCLEVBQXFCLFNBQVMsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFhLE1BQU0sZUFBZSxDQUFDO0FBQ3ZKLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGtDQUFrQyxDQUFDO0FBQ3JFLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGtDQUFrQyxDQUFDO0FBQ3JFLE9BQU8sRUFBRSxVQUFVLEVBQUUsbUJBQW1CLEVBQUUsSUFBSSxFQUFFLE1BQU0sVUFBVSxDQUFDO0FBQ2pFLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGtDQUFrQyxDQUFDO0FBQ3JFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLG9DQUFvQyxDQUFDO0FBQ3hFLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxxQ0FBcUMsQ0FBQztBQUVqRSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sOENBQThDLENBQUM7QUFDN0UsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLCtDQUErQyxDQUFDOzs7Ozs7O0FBVy9FLE1BQU0sT0FBTyxxQkFBc0IsU0FB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QUFLLEdBQUcsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7cUJBQzNFO3lCQUFNLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7d0JBQ3JDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLEdBQUcsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7cUJBQzVFO29CQUNELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDO29CQUNoRCxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxDQUFDO2dCQUMxQixDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNKLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFO29CQUNoRSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7b0JBQzFHLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztpQkFDOUQ7Z0JBQ0QsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUFFO29CQUMxRixJQUFJLENBQUMsUUFBUSxDQUFDLElB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a0MsaUNBQUEsMENBQUEsMENBQUEsZ0RBQUEsZ0RBQUEsd0NBQUEsa0NBQUE7WUFEbEMsNEVBQWdHO1lBVzlGLGVBQ3lJO1lBRHpJLCtIQUN5STs7O3VGRFFoSSxxQkFBcUI7Y0FUakMsU0FBUzsyQkFDRSxnQkFBZ0IsUUFDcEI7b0JBQ0oscUJBQXFCLEVBQUUseUJBQXlCO2lCQUNqRCxtQkFHZ0IsdUJBQXVCLENBQUMsTUFBTTtvRUFNZCxLQUFLO2tCQUFyQyxZQUFZO21CQUFDLGlCQUFpQjtZQUNHLE1BQU07a0JBQXZDLFlBQVk7bUJBQUMsa0JBQWtCO1lBQ0MsS0FBSztrQkFBckMsWUFBWTttQkFBQyxpQkFBaUI7WUFDRSxLQUFLO2tCQUFyQyxZQUFZO21CQUFDLGlCQUFpQjtZQUdjLE9BQU87a0JBQW5ELEtBQUs7bUJBQUMsRUFBQyxTQUFTLEVBQUUsZ0JBQWdCLEVBQUM7WUFDUyxJQUFJO2tCQUFoRCxLQUFLO21CQUFDLEVBQUMsU0FBUyxFQUFFLGdCQUFnQixFQUFDO1lBRVMsSUFBSTtrQkFBaEQsS0FBSzttQkFBQyxFQUFDLFNBQVMsRUFBRSxnQkFBZ0IsRUFBQztZQUVwQixnQkFBZ0I7a0JBQS9CLEtBQUs7WUFFdUMsT0FBTztrQkFBbkQsS0FBSzttQkFBQyxFQUFDLFNBQVMsRUFBRSxnQkFBZ0IsRUFBQztZQUNNLFlBQVk7a0JBQXJELEtBQUs7bUJBQUMsRUFBQyxTQUFTLEVBQUUsYUFBYSxFQUFDO1lBQ1ksUUFBUTtrQkFBcEQsS0FBSzttQkFBQyxFQUFDLFNBQVMsRUFBRSxnQkFBZ0IsRUFBQztZQUVPLFNBQVM7a0JBQW5ELEtBQUs7bUJBQUMsRUFBQyxTQUFTLEVBQUUsY0FBYyxFQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29sb3JVdGlsIH0gZnJvbSAnLi8uLi8uLi8uLi8uLi9jb21tb24vdXRpbC9jb2xvci51dGlsJztcclxuaW1wb3J0IHsgQWZ0ZXJWaWV3SW5pdCwgYm9vbGVhbkF0dHJpYnV0ZSwgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIENoYW5nZURldGVjdG9yUmVmLCBDb21wb25lbnQsIENvbnRlbnRDaGlsZCwgSW5wdXQsIE9uRGVzdHJveSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBNcmRJbnB1dENvbXBvbmVudCB9IGZyb20gJy4uL21yZC1pbnB1dC9tcmQtaW5wdXQuY29tcG9uZW50JztcclxuaW1wb3J0IHsgTXJkTGFiZWxDb21wb25lbnQgfSBmcm9tICcuLi9tcmQtbGFiZWwvbXJkLWxhYmVsLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IEJhc2VPYmplY3QsIFN1YnNjcmlwdGlvbkhhbmRsZXIsIFV0aWwgfSBmcm9tICdtcmQtY29yZSc7XHJcbmltcG9ydCB7IE1yZEVycm9yQ29tcG9uZW50IH0gZnJvbSAnLi4vbXJkLWVycm9yL21yZC1lcnJvci5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBNcmRTZWxlY3RDb21wb25lbnQgfSBmcm9tICcuLi9tcmQtc2VsZWN0L21yZC1zZWxlY3QuY29tcG9uZW50JztcclxuaW1wb3J0IHsgQ29uZmlnVXRpbCB9IGZyb20gJy4uLy4uLy4uLy4uL2NvbW1vbi91dGlsL2NvbmZpZy51dGlsJztcclxuaW1wb3J0IHsgTXJkQ29uZmlnTW9kZWwgfSBmcm9tICcuLi8uLi8uLi8uLi9jb21tb24vbW9kZWwvY29uZmlnLm1vZGVsJztcclxuaW1wb3J0IHsgc2l6ZUF0dHJpYnV0ZSB9IGZyb20gJy4uLy4uLy4uLy4uL2NvbW1vbi90cmFuc2Zvcm1zL3NpemUtdHJhbnNmb3JtJztcclxuaW1wb3J0IHsgY29sb3JBdHRyaWJ1dGUgfSBmcm9tICcuLi8uLi8uLi8uLi9jb21tb24vdHJhbnNmb3Jtcy9jb2xvci10cmFuc2Zvcm0nO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdtcmQtZm9ybS1maWVsZCcsXHJcbiAgaG9zdDoge1xyXG4gICAgXCJbc3R5bGUuZm9udC1mYW1pbHldXCI6IFwiY29uZmlnPy5iYXNlRm9udC5mYW1pbHlcIlxyXG4gIH0sXHJcbiAgdGVtcGxhdGVVcmw6ICcuL21yZC1mb3JtLWZpZWxkLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi9tcmQtZm9ybS1maWVsZC5jb21wb25lbnQuc2NzcyddLFxyXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBNcmRGb3JtRmllbGRDb21wb25lbnQgZXh0ZW5kcyBCYXNlT2JqZWN0IGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCwgT25EZXN0cm95IHtcclxuXHJcbiAgcHJpdmF0ZSBjb25maWc6IE1yZENvbmZpZ01vZGVsID0gQ29uZmlnVXRpbC5nZXRDb25maWcoKTtcclxuXHJcbiAgQENvbnRlbnRDaGlsZChNcmRJbnB1dENvbXBvbmVudCkgaW5wdXQ6IE1yZElucHV0Q29tcG9uZW50O1xyXG4gIEBDb250ZW50Q2hpbGQoTXJkU2VsZWN0Q29tcG9uZW50KSBzZWxlY3Q6IE1yZFNlbGVjdENvbXBvbmVudDtcclxuICBAQ29udGVudENoaWxkKE1yZExhYmVsQ29tcG9uZW50KSBsYWJlbDogTXJkTGFiZWxDb21wb25lbnQ7XHJcbiAgQENvbnRlbnRDaGlsZChNcmRFcnJvckNvbXBvbmVudCkgZXJyb3I6IE1yZEVycm9yQ29tcG9uZW50O1xyXG5cclxuICAvLyBASW5wdXQoKSBwdWJsaWMgYXBwZWFyYW5jZTogJ3N0YW5kYXJkJyB8ICdvdXRsaW5lJyA9ICdzdGFuZGFyZCc7XHJcbiAgQElucHV0KHt0cmFuc2Zvcm06IGJvb2xlYW5BdHRyaWJ1dGV9KSBwdWJsaWMgb3V0bGluZTogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIEBJbnB1dCh7dHJhbnNmb3JtOiBib29sZWFuQXR0cmlidXRlfSkgcHVibGljIGZpbGw6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgQElucHV0KHt0cmFuc2Zvcm06IGJvb2xlYW5BdHRyaWJ1dGV9KSBwdWJsaWMgZGFyazogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICBASW5wdXQoKSBwdWJsaWMgcmVxdWlyZWRBc3RlcmlzazogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gIEBJbnB1dCh7dHJhbnNmb3JtOiBib29sZWFuQXR0cmlidXRlfSkgcHVibGljIHJvdW5kZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBASW5wdXQoe3RyYW5zZm9ybTogc2l6ZUF0dHJpYnV0ZX0pIHB1YmxpYyBib3JkZXJSYWRpdXM6IHN0cmluZztcclxuICBASW5wdXQoe3RyYW5zZm9ybTogYm9vbGVhbkF0dHJpYnV0ZX0pIHB1YmxpYyBjZW50ZXJlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICBASW5wdXQoe3RyYW5zZm9ybTogY29sb3JBdHRyaWJ1dGV9KSBwdWJsaWMgZmlsbENvbG9yOiBzdHJpbmc7XHJcblxyXG4gIHB1YmxpYyBkaXNhYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIHB1YmxpYyBmb2N1c2VkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgcHVibGljIGhhc0Vycm9yOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gIHB1YmxpYyBmb2N1c0NvbG9yOiBzdHJpbmcgPSB0aGlzLmNvbmZpZy5mb3JtRmllbGQ/LmZvY3VzQ29sb3IgPz8gdGhpcy5jb25maWcuYmFzZUNvbG9ycy5wcmltYXJ5IGFzIHN0cmluZztcclxuICBwdWJsaWMgZm9jdXNDb2xvckRhcms6IHN0cmluZyA9IHRoaXMuY29uZmlnLmZvcm1GaWVsZD8uZm9jdXNDb2xvckRhcmsgPz8gQ29sb3JVdGlsLmNoYW5nZUNvbG9yQnJpZ2h0bmVzc1BlcmNlbnQodGhpcy5jb25maWcuYmFzZUNvbG9ycy5wcmltYXJ5IGFzIHN0cmluZywgMTApO1xyXG4gIHB1YmxpYyBmb2N1c0NvbG9yT3V0bGluZTogc3RyaW5nID0gdGhpcy5jb25maWcuZm9ybUZpZWxkPy5mb2N1c0NvbG9yT3V0bGluZSA/PyBDb2xvclV0aWwuY2hhbmdlQ29sb3JPcGFjaXR5KHRoaXMuY29uZmlnLmJhc2VDb2xvcnMucHJpbWFyeSBhcyBzdHJpbmcsIDQwKTtcclxuICBwdWJsaWMgZXJyb3JDb2xvcjogc3RyaW5nID0gdGhpcy5jb25maWcuZm9ybUZpZWxkPy5lcnJvckNvbG9yID8/IHRoaXMuY29uZmlnLmJhc2VDb2xvcnMud2FybiBhcyBzdHJpbmc7XHJcbiAgcHVibGljIGVycm9yQ29sb3JEYXJrOiBzdHJpbmcgPSB0aGlzLmNvbmZpZy5mb3JtRmllbGQ/LmVycm9Db2xvckRhcmsgPz8gQ29sb3JVdGlsLmNoYW5nZUNvbG9yQnJpZ2h0bmVzc1BlcmNlbnQodGhpcy5jb25maWcuYmFzZUNvbG9ycy53YXJuIGFzIHN0cmluZywgMTApO1xyXG4gIHB1YmxpYyBlcnJvckNvbG9yT3V0bGluZTogc3RyaW5nID0gdGhpcy5jb25maWcuZm9ybUZpZWxkPy5lcnJvckNvbG9yT3V0bGluZSA/PyBDb2xvclV0aWwuY2hhbmdlQ29sb3JPcGFjaXR5KHRoaXMuY29uZmlnLmJhc2VDb2xvcnMud2FybiBhcyBzdHJpbmcsIDQwKTtcclxuXHJcbiAgcHJpdmF0ZSB0aW1lb3V0czogYW55W10gPSBbXTtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIGNkcjogQ2hhbmdlRGV0ZWN0b3JSZWZcclxuICApIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgfVxyXG5cclxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcclxuICAgIHN1cGVyLm5nT25EZXN0cm95KCk7XHJcbiAgICB0aGlzLnRpbWVvdXRzLmZvckVhY2goKHRpbWVvdXQpID0+IGNsZWFyVGltZW91dCh0aW1lb3V0KSk7XHJcbiAgfVxyXG5cclxuICBuZ0FmdGVyVmlld0luaXQoKTogdm9pZCB7XHJcbiAgICB0aGlzLmJvcmRlclJhZGl1cyA9IHRoaXMuYm9yZGVyUmFkaXVzID8/IHRoaXMucm91bmRlZCA/IHRoaXMuY29uZmlnLmZvcm1GaWVsZD8uYm9yZGVyUmFkaXVzUm91bmRlZCA6IHRoaXMuY29uZmlnLmZvcm1GaWVsZD8uYm9yZGVyUmFkaXVzO1xyXG4gICAgdGhpcy5maWxsQ29sb3IgPSB0aGlzLmZpbGxDb2xvciA/PyB0aGlzLmNvbmZpZy5mb3JtRmllbGQ/LmZpbGw/LmJhY2tncm91bmRDb2xvcjtcclxuXHJcbiAgICBpZiAoVXRpbC5pc0RlZmluZWQodGhpcy5pbnB1dCkpIHtcclxuICAgICAgdGhpcy5pbnB1dC5jZW50ZXJlZCA9IHRoaXMuY2VudGVyZWQ7XHJcbiAgICAgIGlmIChVdGlsLmlzRGVmaW5lZCh0aGlzLmlucHV0LmZvcm1Db250cm9sKSkge1xyXG4gICAgICAgIHRoaXMud2F0Y2godGhpcy5pbnB1dC5mb3JtQ29udHJvbC52YWx1ZUNoYW5nZXMsIG5ldyBTdWJzY3JpcHRpb25IYW5kbGVyKCgpID0+IHtcclxuICAgICAgICAgIGlmIChVdGlsLmlzRGVmaW5lZCh0aGlzLmVycm9yKSkge1xyXG4gICAgICAgICAgICB0aGlzLmVycm9yLmVycm9yID0gVXRpbC5pc0RlZmluZWQodGhpcy5pbnB1dC5mb3JtQ29udHJvbC5lcnJvcikgPyB0aGlzLmlucHV0LmZvcm1Db250cm9sLmVycm9yLmVycm9yIDogJyc7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmhhc0Vycm9yID0gVXRpbC5pc0RlZmluZWQodGhpcy5pbnB1dC5mb3JtQ29udHJvbC5lcnJvcik7XHJcbiAgICAgICAgICB0aGlzLmlucHV0LmZvcm1Db250cm9sLm1hcmtBc0RpcnR5KCk7XHJcbiAgICAgICAgICB0aGlzLmNkci5tYXJrRm9yQ2hlY2soKTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgdGhpcy53YXRjaCh0aGlzLmlucHV0LmZvcm1Db250cm9sLmNvbnRyb2wuc3RhdHVzQ2hhbmdlcywgbmV3IFN1YnNjcmlwdGlvbkhhbmRsZXIoKCkgPT4ge1xyXG4gICAgICAgICAgaWYgKHRoaXMucmVxdWlyZWRBc3RlcmlzayAmJiBVdGlsLmlzRGVmaW5lZCh0aGlzLmxhYmVsKSAmJiB0aGlzLmlucHV0LmZvcm1Db250cm9sLnJlcXVpcmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZW91dHMucHVzaChzZXRUaW1lb3V0KCgpID0+IHRoaXMubGFiZWwucmVxdWlyZWQudmFsdWUgPSB0cnVlLCAxKSk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKFV0aWwuaXNEZWZpbmVkKHRoaXMubGFiZWwpKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZW91dHMucHVzaChzZXRUaW1lb3V0KCgpID0+IHRoaXMubGFiZWwucmVxdWlyZWQudmFsdWUgPSBmYWxzZSwgMSkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhpcy5kaXNhYmxlZCA9IHRoaXMuaW5wdXQuZm9ybUNvbnRyb2wuZGlzYWJsZWQ7XHJcbiAgICAgICAgICB0aGlzLmNkci5tYXJrRm9yQ2hlY2soKTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgaWYgKFV0aWwuaXNEZWZpbmVkKHRoaXMuZXJyb3IpICYmIHRoaXMuaW5wdXQuZm9ybUNvbnRyb2wudG91Y2hlZCkge1xyXG4gICAgICAgICAgdGhpcy5lcnJvci5lcnJvciA9IFV0aWwuaXNEZWZpbmVkKHRoaXMuaW5wdXQuZm9ybUNvbnRyb2wuZXJyb3IpID8gdGhpcy5pbnB1dC5mb3JtQ29udHJvbC5lcnJvci5lcnJvciA6ICcnO1xyXG4gICAgICAgICAgdGhpcy5oYXNFcnJvciA9IFV0aWwuaXNEZWZpbmVkKHRoaXMuaW5wdXQuZm9ybUNvbnRyb2wuZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5yZXF1aXJlZEFzdGVyaXNrICYmIFV0aWwuaXNEZWZpbmVkKHRoaXMubGFiZWwpICYmIHRoaXMuaW5wdXQuZm9ybUNvbnRyb2wucmVxdWlyZWQpIHtcclxuICAgICAgICAgIHRoaXMudGltZW91dHMucHVzaChzZXRUaW1lb3V0KCgpID0+IHRoaXMubGFiZWwucmVxdWlyZWQudmFsdWUgPSB0cnVlLCAxKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZGlzYWJsZWQgPSB0aGlzLmlucHV0LmZvcm1Db250cm9sLmRpc2FibGVkO1xyXG4gICAgICAgIGlmIChVdGlsLmlzRGVmaW5lZCh0aGlzLmlucHV0LmZvcm1Db250cm9sLnZhbHVlKSkge1xyXG4gICAgICAgICAgdGhpcy5pbnB1dC5mb3JtQ29udHJvbC5jb250cm9sLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoe2VtaXRFdmVudDogZmFsc2V9KTtcclxuICAgICAgICAgIGlmIChVdGlsLmlzRGVmaW5lZCh0aGlzLmVycm9yKSkge1xyXG4gICAgICAgICAgICB0aGlzLmVycm9yLmVycm9yID0gVXRpbC5pc0RlZmluZWQodGhpcy5pbnB1dC5mb3JtQ29udHJvbC5lcnJvcikgPyB0aGlzLmlucHV0LmZvcm1Db250cm9sLmVycm9yLmVycm9yIDogJyc7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmhhc0Vycm9yID0gVXRpbC5pc0RlZmluZWQodGhpcy5pbnB1dC5mb3JtQ29udHJvbC5lcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2RyLmRldGVjdENoYW5nZXMoKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoVXRpbC5pc0RlZmluZWQodGhpcy5sYWJlbCkpIHtcclxuICAgICAgICBpZiAoKFV0aWwuaXNEZWZpbmVkKHRoaXMuaW5wdXQuZm9ybUNvbnRyb2wpICYmIFV0aWwuaXNEZWZpbmVkKHRoaXMuaW5wdXQuZm9ybUNvbnRyb2wudmFsdWUpICYmIHRoaXMuaW5wdXQuZm9ybUNvbnRyb2wudmFsdWUgIT09ICcnKSB8fFxyXG4gICAgICAgICAgKFV0aWwuaXNEZWZpbmVkKHRoaXMuaW5wdXQudmFsdWUpICYmIHRoaXMuaW5wdXQudmFsdWUgIT09ICcnKSkge1xyXG4gICAgICAgICAgdGhpcy5sYWJlbC5mbG9hdGluZy52YWx1ZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlucHV0LnRleHRhcmVhKSB7XHJcbiAgICAgICAgICB0aGlzLmxhYmVsLmxhYmVsVG9wID0gdHJ1ZTtcclxuICAgICAgICAgIHRoaXMuY2RyLmRldGVjdENoYW5nZXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5pbnB1dC50b3VjaGVkLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgaWYgKFV0aWwuaXNEZWZpbmVkKHRoaXMuaW5wdXQuZm9ybUNvbnRyb2wpKSB7XHJcbiAgICAgICAgICB0aGlzLmlucHV0LmZvcm1Db250cm9sLm1hcmtBc1RvdWNoZWQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jZHIubWFya0ZvckNoZWNrKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmlucHV0LmZvY3VzZWQuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICB0aGlzLmZvY3VzZWQgPSB0cnVlO1xyXG4gICAgICAgIGlmIChVdGlsLmlzRGVmaW5lZCh0aGlzLmxhYmVsKSkge1xyXG4gICAgICAgICAgdGhpcy5sYWJlbC5mbG9hdGluZy52YWx1ZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2RyLm1hcmtGb3JDaGVjaygpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRoaXMuaW5wdXQuYmx1cnJlZC5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZm9jdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIGlmIChVdGlsLmlzRGVmaW5lZCh0aGlzLmxhYmVsKSkge1xyXG4gICAgICAgICAgaWYgKFV0aWwuaXNEZWZpbmVkKHRoaXMuaW5wdXQuZm9ybUNvbnRyb2wpKSB7XHJcbiAgICAgICAgICAgIGlmICghVXRpbC5pc0RlZmluZWQodGhpcy5pbnB1dC5mb3JtQ29udHJvbC52YWx1ZSkgfHwgdGhpcy5pbnB1dC5mb3JtQ29udHJvbC52YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICB0aGlzLmxhYmVsLmZsb2F0aW5nLnZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSBpZiAoIVV0aWwuaXNEZWZpbmVkKHRoaXMuaW5wdXQudmFsdWUpIHx8IHRoaXMuaW5wdXQudmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFiZWwuZmxvYXRpbmcudmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKFV0aWwuaXNEZWZpbmVkKHRoaXMuaW5wdXQuZm9ybUNvbnRyb2wpKSB7XHJcbiAgICAgICAgICB0aGlzLmlucHV0LmZvcm1Db250cm9sLmNvbnRyb2wudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7ZW1pdEV2ZW50OiBmYWxzZX0pO1xyXG4gICAgICAgICAgaWYgKFV0aWwuaXNEZWZpbmVkKHRoaXMuZXJyb3IpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXJyb3IuZXJyb3IgPSBVdGlsLmlzRGVmaW5lZCh0aGlzLmlucHV0LmZvcm1Db250cm9sLmVycm9yKSA/IHRoaXMuaW5wdXQuZm9ybUNvbnRyb2wuZXJyb3IuZXJyb3IgOiAnJztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMuaGFzRXJyb3IgPSBVdGlsLmlzRGVmaW5lZCh0aGlzLmlucHV0LmZvcm1Db250cm9sLmVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jZHIubWFya0ZvckNoZWNrKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChVdGlsLmlzRGVmaW5lZCh0aGlzLnNlbGVjdCkpIHtcclxuICAgICAgaWYgKFV0aWwuaXNEZWZpbmVkKHRoaXMuc2VsZWN0LmZvcm1Db250cm9sKSkge1xyXG4gICAgICAgIHRoaXMud2F0Y2godGhpcy5zZWxlY3QuZm9ybUNvbnRyb2wudmFsdWVDaGFuZ2VzLCBuZXcgU3Vic2NyaXB0aW9uSGFuZGxlcigoKSA9PiB7XHJcbiAgICAgICAgICBpZiAoVXRpbC5pc0RlZmluZWQodGhpcy5lcnJvcikpIHtcclxuICAgICAgICAgICAgdGhpcy5lcnJvci5lcnJvciA9IFV0aWwuaXNEZWZpbmVkKHRoaXMuc2VsZWN0LmZvcm1Db250cm9sLmVycm9yKSA/IHRoaXMuc2VsZWN0LmZvcm1Db250cm9sLmVycm9yLmVycm9yIDogJyc7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmhhc0Vycm9yID0gVXRpbC5pc0RlZmluZWQodGhpcy5zZWxlY3QuZm9ybUNvbnRyb2wuZXJyb3IpO1xyXG4gICAgICAgICAgaWYgKFV0aWwuaXNEZWZpbmVkKHRoaXMubGFiZWwpKSB7XHJcbiAgICAgICAgICAgIGlmIChVdGlsLmlzRGVmaW5lZCh0aGlzLnNlbGVjdC5mb3JtQ29udHJvbC52YWx1ZSkgJiYgdGhpcy5zZWxlY3QuZm9ybUNvbnRyb2wudmFsdWUgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5sYWJlbC5mbG9hdGluZy52YWx1ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5sYWJlbC5mbG9hdGluZy52YWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLnNlbGVjdC5mb3JtQ29udHJvbC5tYXJrQXNEaXJ0eSgpO1xyXG4gICAgICAgICAgdGhpcy5jZHIubWFya0ZvckNoZWNrKCk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIHRoaXMud2F0Y2godGhpcy5zZWxlY3QuZm9ybUNvbnRyb2wuY29udHJvbC5zdGF0dXNDaGFuZ2VzLCBuZXcgU3Vic2NyaXB0aW9uSGFuZGxlcigoKSA9PiB7XHJcbiAgICAgICAgICBpZiAodGhpcy5yZXF1aXJlZEFzdGVyaXNrICYmIFV0aWwuaXNEZWZpbmVkKHRoaXMubGFiZWwpICYmIHRoaXMuc2VsZWN0LmZvcm1Db250cm9sLnJlcXVpcmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZW91dHMucHVzaChzZXRUaW1lb3V0KCgpID0+IHRoaXMubGFiZWwucmVxdWlyZWQudmFsdWUgPSB0cnVlLCAxKSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVvdXRzLnB1c2goc2V0VGltZW91dCgoKSA9PiB0aGlzLmxhYmVsLnJlcXVpcmVkLnZhbHVlID0gZmFsc2UsIDEpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMuZGlzYWJsZWQgPSB0aGlzLnNlbGVjdC5mb3JtQ29udHJvbC5kaXNhYmxlZDtcclxuICAgICAgICAgIHRoaXMuY2RyLm1hcmtGb3JDaGVjaygpO1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgICBpZiAoVXRpbC5pc0RlZmluZWQodGhpcy5lcnJvcikgJiYgdGhpcy5zZWxlY3QuZm9ybUNvbnRyb2wudG91Y2hlZCkge1xyXG4gICAgICAgICAgdGhpcy5lcnJvci5lcnJvciA9IFV0aWwuaXNEZWZpbmVkKHRoaXMuc2VsZWN0LmZvcm1Db250cm9sLmVycm9yKSA/IHRoaXMuc2VsZWN0LmZvcm1Db250cm9sLmVycm9yLmVycm9yIDogJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnJlcXVpcmVkQXN0ZXJpc2sgJiYgVXRpbC5pc0RlZmluZWQodGhpcy5sYWJlbCkgJiYgdGhpcy5zZWxlY3QuZm9ybUNvbnRyb2wucmVxdWlyZWQpIHtcclxuICAgICAgICAgIHRoaXMudGltZW91dHMucHVzaChzZXRUaW1lb3V0KCgpID0+IHRoaXMubGFiZWwucmVxdWlyZWQudmFsdWUgPSB0cnVlLCAxKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZGlzYWJsZWQgPSB0aGlzLnNlbGVjdC5mb3JtQ29udHJvbC5kaXNhYmxlZDtcclxuICAgICAgICBpZiAoVXRpbC5pc0RlZmluZWQodGhpcy5zZWxlY3QuZm9ybUNvbnRyb2wudmFsdWUpKSB7XHJcbiAgICAgICAgICB0aGlzLnNlbGVjdC5mb3JtQ29udHJvbC5jb250cm9sLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoe2VtaXRFdmVudDogZmFsc2V9KTtcclxuICAgICAgICAgIGlmIChVdGlsLmlzRGVmaW5lZCh0aGlzLmVycm9yKSkge1xyXG4gICAgICAgICAgICB0aGlzLmVycm9yLmVycm9yID0gVXRpbC5pc0RlZmluZWQodGhpcy5zZWxlY3QuZm9ybUNvbnRyb2wuZXJyb3IpID8gdGhpcy5zZWxlY3QuZm9ybUNvbnRyb2wuZXJyb3IuZXJyb3IgOiAnJztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMuaGFzRXJyb3IgPSBVdGlsLmlzRGVmaW5lZCh0aGlzLnNlbGVjdC5mb3JtQ29udHJvbC5lcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2RyLmRldGVjdENoYW5nZXMoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKFV0aWwuaXNEZWZpbmVkKHRoaXMuc2VsZWN0LmZvcm1BcnJheUNvbnRyb2wpKSB7XHJcbiAgICAgICAgdGhpcy53YXRjaCh0aGlzLnNlbGVjdC5mb3JtQXJyYXlDb250cm9sLmNvbnRyb2wudmFsdWVDaGFuZ2VzLCBuZXcgU3Vic2NyaXB0aW9uSGFuZGxlcigoKSA9PiB7ZGVidWdnZXJcclxuICAgICAgICAgIGlmIChVdGlsLmlzRGVmaW5lZCh0aGlzLmVycm9yKSkge1xyXG4gICAgICAgICAgICB0aGlzLmVycm9yLmVycm9yID0gVXRpbC5pc0RlZmluZWQodGhpcy5zZWxlY3QuZm9ybUFycmF5Q29udHJvbC5lcnJvcikgPyB0aGlzLnNlbGVjdC5mb3JtQXJyYXlDb250cm9sLmVycm9yLmVycm9yIDogJyc7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmhhc0Vycm9yID0gVXRpbC5pc0RlZmluZWQodGhpcy5zZWxlY3QuZm9ybUFycmF5Q29udHJvbC5lcnJvcik7XHJcbiAgICAgICAgICBpZiAoVXRpbC5pc0RlZmluZWQodGhpcy5sYWJlbCkpIHtcclxuICAgICAgICAgICAgaWYgKFV0aWwuaXNEZWZpbmVkKHRoaXMuc2VsZWN0LmZvcm1BcnJheUNvbnRyb2wuY29udHJvbC52YWx1ZSkgJiYgdGhpcy5zZWxlY3QuZm9ybUFycmF5Q29udHJvbC5jb250cm9sLnZhbHVlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICB0aGlzLmxhYmVsLmZsb2F0aW5nLnZhbHVlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB0aGlzLmxhYmVsLmZsb2F0aW5nLnZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMuc2VsZWN0LmZvcm1BcnJheUNvbnRyb2wubWFya0FzRGlydHkoKTtcclxuICAgICAgICAgIHRoaXMuY2RyLm1hcmtGb3JDaGVjaygpO1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgICB0aGlzLndhdGNoKHRoaXMuc2VsZWN0LmZvcm1BcnJheUNvbnRyb2wuY29udHJvbC5zdGF0dXNDaGFuZ2VzLCBuZXcgU3Vic2NyaXB0aW9uSGFuZGxlcigoKSA9PiB7XHJcbiAgICAgICAgICBpZiAodGhpcy5yZXF1aXJlZEFzdGVyaXNrICYmIFV0aWwuaXNEZWZpbmVkKHRoaXMubGFiZWwpICYmIHRoaXMuc2VsZWN0LmZvcm1BcnJheUNvbnRyb2wucmVxdWlyZWQpIHtcclxuICAgICAgICAgICAgdGhpcy50aW1lb3V0cy5wdXNoKHNldFRpbWVvdXQoKCkgPT4gdGhpcy5sYWJlbC5yZXF1aXJlZC52YWx1ZSA9IHRydWUsIDEpKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZW91dHMucHVzaChzZXRUaW1lb3V0KCgpID0+IHRoaXMubGFiZWwucmVxdWlyZWQudmFsdWUgPSBmYWxzZSwgMSkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhpcy5kaXNhYmxlZCA9IHRoaXMuc2VsZWN0LmZvcm1BcnJheUNvbnRyb2wuY29udHJvbC5kaXNhYmxlZDtcclxuICAgICAgICAgIHRoaXMuY2RyLm1hcmtGb3JDaGVjaygpO1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgICBpZiAoVXRpbC5pc0RlZmluZWQodGhpcy5lcnJvcikgJiYgdGhpcy5zZWxlY3QuZm9ybUFycmF5Q29udHJvbC50b3VjaGVkKSB7XHJcbiAgICAgICAgICB0aGlzLmVycm9yLmVycm9yID0gVXRpbC5pc0RlZmluZWQodGhpcy5zZWxlY3QuZm9ybUFycmF5Q29udHJvbC5lcnJvcikgPyB0aGlzLnNlbGVjdC5mb3JtQXJyYXlDb250cm9sLmVycm9yLmVycm9yIDogJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnJlcXVpcmVkQXN0ZXJpc2sgJiYgVXRpbC5pc0RlZmluZWQodGhpcy5sYWJlbCkgJiYgdGhpcy5zZWxlY3QuZm9ybUFycmF5Q29udHJvbC5yZXF1aXJlZCkge1xyXG4gICAgICAgICAgdGhpcy50aW1lb3V0cy5wdXNoKHNldFRpbWVvdXQoKCkgPT4gdGhpcy5sYWJlbC5yZXF1aXJlZC52YWx1ZSA9IHRydWUsIDEpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IHRoaXMuc2VsZWN0LmZvcm1BcnJheUNvbnRyb2wuY29udHJvbC5kaXNhYmxlZDtcclxuICAgICAgICBpZiAodGhpcy5zZWxlY3QuZm9ybUFycmF5Q29udHJvbC52YWx1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICB0aGlzLnNlbGVjdC5mb3JtQXJyYXlDb250cm9sLmNvbnRyb2wudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7ZW1pdEV2ZW50OiBmYWxzZX0pO1xyXG4gICAgICAgICAgaWYgKFV0aWwuaXNEZWZpbmVkKHRoaXMuZXJyb3IpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXJyb3IuZXJyb3IgPSBVdGlsLmlzRGVmaW5lZCh0aGlzLnNlbGVjdC5mb3JtQXJyYXlDb250cm9sLmVycm9yKSA/IHRoaXMuc2VsZWN0LmZvcm1BcnJheUNvbnRyb2wuZXJyb3IuZXJyb3IgOiAnJztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMuaGFzRXJyb3IgPSBVdGlsLmlzRGVmaW5lZCh0aGlzLnNlbGVjdC5mb3JtQXJyYXlDb250cm9sLmVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jZHIuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoVXRpbC5pc0RlZmluZWQodGhpcy5sYWJlbCkpIHtcclxuICAgICAgICBpZiAoKFV0aWwuaXNEZWZpbmVkKHRoaXMuc2VsZWN0LmZvcm1Db250cm9sKSAmJiBVdGlsLmlzRGVmaW5lZCh0aGlzLnNlbGVjdC5mb3JtQ29udHJvbC52YWx1ZSkgJiYgdGhpcy5zZWxlY3QuZm9ybUNvbnRyb2wudmFsdWUgIT09ICcnKSB8fFxyXG4gICAgICAgICAgKFV0aWwuaXNEZWZpbmVkKHRoaXMuc2VsZWN0LnZhbHVlKSAmJiB0aGlzLnNlbGVjdC52YWx1ZSAhPT0gJycpKSB7XHJcbiAgICAgICAgICB0aGlzLmxhYmVsLmZsb2F0aW5nLnZhbHVlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChVdGlsLmlzRGVmaW5lZCh0aGlzLnNlbGVjdC5mb3JtQXJyYXlDb250cm9sKSAmJiBVdGlsLmlzRGVmaW5lZCh0aGlzLnNlbGVjdC5mb3JtQXJyYXlDb250cm9sLnZhbHVlKSAmJiB0aGlzLnNlbGVjdC5mb3JtQXJyYXlDb250cm9sLnZhbHVlLmxlbmd0aCA+IDApIHx8XHJcbiAgICAgICAgICAoVXRpbC5pc0RlZmluZWQodGhpcy5zZWxlY3QudmFsdWUpICYmIHRoaXMuc2VsZWN0LnZhbHVlLmxlbmd0aCA+IDApKSB7XHJcbiAgICAgICAgICB0aGlzLmxhYmVsLmZsb2F0aW5nLnZhbHVlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5zZWxlY3QudG91Y2hlZC5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdC5hdXRvQ29tcGxldGUgJiYgVXRpbC5pc0RlZmluZWQodGhpcy5zZWxlY3QuZm9ybUNvbnRyb2wpKSB7XHJcbiAgICAgICAgICB0aGlzLnNlbGVjdC5mb3JtQ29udHJvbC5tYXJrQXNUb3VjaGVkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdC5hdXRvQ29tcGxldGUgJiYgVXRpbC5pc0RlZmluZWQodGhpcy5zZWxlY3QuZm9ybUFycmF5Q29udHJvbCkpIHtcclxuICAgICAgICAgIHRoaXMuc2VsZWN0LmZvcm1BcnJheUNvbnRyb2wubWFya0FzVG91Y2hlZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuc2VsZWN0LmZvY3VzZWQuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICB0aGlzLmZvY3VzZWQgPSB0cnVlO1xyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdC5hdXRvQ29tcGxldGUgJiYgVXRpbC5pc0RlZmluZWQodGhpcy5sYWJlbCkpIHtcclxuICAgICAgICAgIHRoaXMubGFiZWwuZmxvYXRpbmcudmFsdWUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNkci5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLnNlbGVjdC5ibHVycmVkLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5mb2N1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKFV0aWwuaXNEZWZpbmVkKHRoaXMubGFiZWwpKSB7XHJcbiAgICAgICAgICBpZiAoKCFVdGlsLmlzRGVmaW5lZCh0aGlzLnNlbGVjdC5mb3JtQ29udHJvbCkgfHwgIVV0aWwuaXNEZWZpbmVkKHRoaXMuc2VsZWN0LmZvcm1Db250cm9sLnZhbHVlKSB8fCB0aGlzLnNlbGVjdC5mb3JtQ29udHJvbC52YWx1ZSA9PT0gJycpICYmXHJcbiAgICAgICAgICAgICghVXRpbC5pc0RlZmluZWQodGhpcy5zZWxlY3QudmFsdWUpIHx8IHRoaXMuc2VsZWN0LnZhbHVlID09PSAnJykpIHtcclxuICAgICAgICAgICAgdGhpcy5sYWJlbC5mbG9hdGluZy52YWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKCghVXRpbC5pc0RlZmluZWQodGhpcy5zZWxlY3QuZm9ybUFycmF5Q29udHJvbCkgfHwgIVV0aWwuaXNEZWZpbmVkKHRoaXMuc2VsZWN0LmZvcm1BcnJheUNvbnRyb2wudmFsdWUpIHx8IHRoaXMuc2VsZWN0LmZvcm1BcnJheUNvbnRyb2wudmFsdWUubGVuZ3RoID09PSAwKSAmJlxyXG4gICAgICAgICAgICAoIVV0aWwuaXNEZWZpbmVkKHRoaXMuc2VsZWN0LnZhbHVlKSB8fCB0aGlzLnNlbGVjdC52YWx1ZS5sZW5ndGggPT09IDApKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFiZWwuZmxvYXRpbmcudmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKFV0aWwuaXNEZWZpbmVkKHRoaXMuc2VsZWN0LmZvcm1Db250cm9sKSkge1xyXG4gICAgICAgICAgdGhpcy5zZWxlY3QuZm9ybUNvbnRyb2wuY29udHJvbC51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtlbWl0RXZlbnQ6IGZhbHNlfSk7XHJcbiAgICAgICAgICBpZiAoVXRpbC5pc0RlZmluZWQodGhpcy5lcnJvcikpIHtcclxuICAgICAgICAgICAgdGhpcy5lcnJvci5lcnJvciA9IFV0aWwuaXNEZWZpbmVkKHRoaXMuc2VsZWN0LmZvcm1Db250cm9sLmVycm9yKSA/IHRoaXMuc2VsZWN0LmZvcm1Db250cm9sLmVycm9yLmVycm9yIDogJyc7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmhhc0Vycm9yID0gVXRpbC5pc0RlZmluZWQodGhpcy5zZWxlY3QuZm9ybUNvbnRyb2wuZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoVXRpbC5pc0RlZmluZWQodGhpcy5zZWxlY3QuZm9ybUFycmF5Q29udHJvbCkpIHtcclxuICAgICAgICAgIHRoaXMuc2VsZWN0LmZvcm1BcnJheUNvbnRyb2wuY29udHJvbC51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtlbWl0RXZlbnQ6IGZhbHNlfSk7XHJcbiAgICAgICAgICBpZiAoVXRpbC5pc0RlZmluZWQodGhpcy5lcnJvcikpIHtcclxuICAgICAgICAgICAgdGhpcy5lcnJvci5lcnJvciA9IFV0aWwuaXNEZWZpbmVkKHRoaXMuc2VsZWN0LmZvcm1BcnJheUNvbnRyb2wuZXJyb3IpID8gdGhpcy5zZWxlY3QuZm9ybUFycmF5Q29udHJvbC5lcnJvci5lcnJvciA6ICcnO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhpcy5oYXNFcnJvciA9IFV0aWwuaXNEZWZpbmVkKHRoaXMuc2VsZWN0LmZvcm1BcnJheUNvbnRyb2wuZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNkci5tYXJrRm9yQ2hlY2soKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmNkci5tYXJrRm9yQ2hlY2soKTtcclxuICB9XHJcbn1cclxuIiwiPGRpdiBjbGFzcz1cIm1yZC1mb3JtLWZpZWxkLWNvbnRhaW5lclwiXHJcbiAgW25nQ2xhc3NdPVwieydtcmQtZm9ybS1maWVsZC1jb250YWluZXItZmlsbCc6IGZpbGwsICdtcmQtZm9ybS1maWVsZC1jb250YWluZXItb3V0bGluZSc6IG91dGxpbmV9XCJcclxuICBbc3R5bGUuLS1mb2N1cy1jb2xvcl09XCJmb2N1c0NvbG9yXCJcclxuICBbc3R5bGUuLS1lcnJvci1jb2xvcl09XCJlcnJvckNvbG9yXCJcclxuICBbc3R5bGUuLS1mb2N1cy1jb2xvci1kYXJrXT1cImZvY3VzQ29sb3JEYXJrXCJcclxuICBbc3R5bGUuLS1lcnJvci1jb2xvci1kYXJrXT1cImVycm9yQ29sb3JEYXJrXCJcclxuICBbc3R5bGUuLS1mb2N1cy1jb2xvci1vdXRsaW5lXT1cImZvY3VzQ29sb3JPdXRsaW5lXCJcclxuICBbc3R5bGUuLS1lcnJvci1jb2xvci1vdXRsaW5lXT1cImVycm9yQ29sb3JPdXRsaW5lXCJcclxuICBbc3R5bGUuLS1mZi1ib3JkZXItcmFkaXVzXT1cImJvcmRlclJhZGl1c1wiXHJcbiAgW3N0eWxlLi0tZmYtZmlsbC1jb2xvcl09XCJmaWxsQ29sb3JcIlxyXG4+XHJcbiAgPGRpdiBjbGFzcz1cIm1yZC1mb3JtLWZpZWxkLWNvbnRlbnQtY29udGFpbmVyXCJcclxuICAgIFtuZ0NsYXNzXT1cInsnbXJkLWZvcm0tZmllbGQtZXJyb3InOiBoYXNFcnJvciwgJ21yZC1mb3JtLWZpZWxkLWRpc2FibGVkJzogZGlzYWJsZWQsICdtcmQtZm9ybS1maWVsZC1mb2N1c2VkJzogZm9jdXNlZCxcclxuICAgICAgJ21yZC1mb3JtLWZpZWxkLWNvbnRlbnQtY29udGFpbmVyLW91dGxpbmUnOiBvdXRsaW5lLCAnbXJkLWZvcm0tZmllbGQtY29udGVudC1jb250YWluZXItZmlsbCc6IGZpbGwsICdtcmQtZm9ybS1maWVsZC1kYXJrLXRoZW1lJzogZGFya31cIj5cclxuICAgIDxuZy1jb250ZW50IHNlbGVjdD1cIm1yZC1wcmVmaXhcIj48L25nLWNvbnRlbnQ+XHJcbiAgICA8ZGl2IGNsYXNzPVwibXJkLWZvcm0tZmllbGQtaW5wdXQtY29udGVudC1jb250YWluZXJcIj5cclxuXHJcbiAgICAgIDxuZy1jb250ZW50IHNlbGVjdD1cIm1yZC1pbnB1dFwiPjwvbmctY29udGVudD5cclxuICAgICAgPG5nLWNvbnRlbnQgc2VsZWN0PVwibXJkLXNlbGVjdFwiPjwvbmctY29udGVudD5cclxuICAgICAgPG5nLWNvbnRlbnQgc2VsZWN0PVwibXJkLWxhYmVsXCI+PC9uZy1jb250ZW50PlxyXG5cclxuICAgIDwvZGl2PlxyXG4gICAgPG5nLWNvbnRlbnQgc2VsZWN0PVwibXJkLXN1ZmZpeFwiPjwvbmctY29udGVudD5cclxuICA8L2Rpdj5cclxuICA8ZGl2IGNsYXNzPVwibXJkLWZvcm0tZmllbGQtc3ViY29udGVudC1jb250YWluZXJcIj5cclxuICAgIDxuZy1jb250ZW50IHNlbGVjdD1cIm1yZC1oaW50XCI+PC9uZy1jb250ZW50PlxyXG4gICAgPG5nLWNvbnRlbnQgc2VsZWN0PVwibXJkLWVycm9yXCI+PC9uZy1jb250ZW50PlxyXG4gIDwvZGl2PlxyXG48L2Rpdj5cclxuIl19